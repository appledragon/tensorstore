<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../../_static/logo.svg><title>gcs Key-Value Store driver - TensorStore</title><link rel=stylesheet href=../../_static/stylesheets/main.css><link rel=stylesheet href=../../_static/stylesheets/palette.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>
          :root {
            --md-text-font-family: "Roboto";
            --md-code-font-family: "Roboto Mono";
          }
        </style></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue> <script>

  /* Prepend the base path to the given key to ensure uniqueness */
  function __prefix(key) {
    var prefix = new URL("../..", location)
    return prefix.pathname + "." + key
  }

  /* Fetch the given key from the given storage */
  function __get(key, storage = localStorage) {
    return JSON.parse(storage.getItem(__prefix(key)))
  }
</script> <script>
  var palette = __get("__palette")
  if (palette !== null && typeof palette.color === "object")
    for (var key in palette.color)
      document.body.setAttribute("data-md-color-" + key, palette.color[key])
</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../index.html title=TensorStore class="md-header__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> <label class="md-header__button md-icon" for=__drawer> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-menu width=24 height=24 viewbox="0 0 24 24"><path d=M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z /></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> TensorStore </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> gcs Key-Value Store driver </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb-outline width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-close width=24 height=24 viewbox="0 0 24 24"><path d=M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z /></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=TensorStore class="md-nav__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> TensorStore </label> <div class=md-nav__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 data-md-state=indeterminate type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1> <a class href=../../python/tutorial.html>Python API</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Python API" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Python API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../python/tutorial.html class=md-nav__link> Tutorial </a> </li> <li class=md-nav__item> <a href=../../python/indexing.html class=md-nav__link> Indexing </a> </li> <li class=md-nav__item> <a href=../../python/api/index.html class=md-nav__link> API reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 data-md-state=indeterminate type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> <a class href=../../installation.html>Setup</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation.html class=md-nav__link> Building and Installing </a> </li> <li class=md-nav__item> <a href=../../environment.html class=md-nav__link> Environment variables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> <a class href=../../spec.html>JSON</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=JSON data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> JSON </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../spec.html class=md-nav__link> JSON Spec </a> </li> <li class=md-nav__item> <a href=../../index_space.html class=md-nav__link> Index space </a> </li> <li class=md-nav__item> <a href=../../schema.html class=md-nav__link> Schema </a> </li> <li class=md-nav__item> <a href=../../context.html class=md-nav__link> Context framework </a> </li> <li class=md-nav__item> <a href=../../driver/index.html class=md-nav__link> Drivers </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_6 type=checkbox id=__nav_3_6 checked> <label class=md-nav__link for=__nav_3_6> <a class href=../index.html>Key-Value Storage Layer</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Key-Value Storage Layer" data-md-level=2> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Key-Value Storage Layer </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_6_1 type=checkbox id=__nav_3_6_1 checked> <label class=md-nav__link for=__nav_3_6_1> <a class href=../index.html#drivers>Drivers</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Drivers data-md-level=3> <label class=md-nav__title for=__nav_3_6_1> <span class="md-nav__icon md-icon"></span> Drivers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../memory/index.html class=md-nav__link> memory Key-Value Store driver </a> </li> <li class=md-nav__item> <a href=../file/index.html class=md-nav__link> file Key-Value Store driver </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> gcs Key-Value Store driver <span class="md-nav__icon md-icon"></span> </label> <a href class="md-nav__link md-nav__link--active"> gcs Key-Value Store driver </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> gcs Key-Value Store driver </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#json-kvstore/gcs class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="kvstore/gcs (JSON type)">kvstore/gcs</span> </a> <nav class=md-nav aria-label=kvstore/gcs> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-kvstore/gcs.driver class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.driver (JSON member)">driver</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.bucket class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.bucket (JSON member) — Google Cloud Storage bucket to use.">bucket</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.path class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.path (JSON member) — Key prefix within the key-value store.">path</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.context class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.context (JSON member)">context</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.gcs_request_concurrency class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.gcs_request_concurrency (JSON member)">gcs_request_concurrency</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.gcs_user_project class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.gcs_user_project (JSON member)">gcs_user_project</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.gcs_request_retries class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.gcs_request_retries (JSON member)">gcs_request_retries</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-Context.gcs_user_project class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Context.gcs_user_project (JSON type)">Context.gcs_user_project</span> </a> <nav class=md-nav aria-label=Context.gcs_user_project> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Context.gcs_user_project.project_id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title='Context.gcs_user_project.project_id (JSON member) — Google Cloud project id, e.g. "my-project".  The Google Cloud
account that is used must have appropriate permissions to bill to the
specified project.'>project_id</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-Context.gcs_request_concurrency class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Context.gcs_request_concurrency (JSON type)">Context.gcs_request_concurrency</span> </a> <nav class=md-nav aria-label=Context.gcs_request_concurrency> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Context.gcs_request_concurrency.limit class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Context.gcs_request_concurrency.limit (JSON member)">limit</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-Context.gcs_request_retries class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Context.gcs_request_retries (JSON type)">Context.gcs_request_retries</span> </a> <nav class=md-nav aria-label=Context.gcs_request_retries> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Context.gcs_request_retries.max_retries class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Context.gcs_request_retries.max_retries (JSON member)">max_retries</span> </a> </li> <li class=md-nav__item> <a href=#json-Context.gcs_request_retries.initial_delay class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Context.gcs_request_retries.initial_delay (JSON member)">initial_delay</span> </a> </li> <li class=md-nav__item> <a href=#json-Context.gcs_request_retries.max_delay class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Context.gcs_request_retries.max_delay (JSON member)">max_delay</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-KvStoreUrl/gs class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="KvStoreUrl/gs (JSON type) — gs:// KvStore URL scheme">KvStoreUrl/gs</span> </a> </li> <li class=md-nav__item> <a href=#authentication class=md-nav__link> Authentication </a> </li> <li class=md-nav__item> <a href=#tls-ca-certificates class=md-nav__link> TLS CA certificates </a> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> Testing </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../http/index.html class=md-nav__link> http Key-Value Store driver </a> </li> <li class=md-nav__item> <a href=../index.html#json-KvStore class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="KvStore (JSON type) — Key-value store specification.">KvStore</span> </a> </li> <li class=md-nav__item> <a href=../index.html#json-KvStoreUrl class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="KvStoreUrl (JSON type) — URL representation of a key-value store.">KvStoreUrl</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> gcs Key-Value Store driver </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#json-kvstore/gcs class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="kvstore/gcs (JSON type)">kvstore/gcs</span> </a> <nav class=md-nav aria-label=kvstore/gcs> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-kvstore/gcs.driver class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.driver (JSON member)">driver</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.bucket class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.bucket (JSON member) — Google Cloud Storage bucket to use.">bucket</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.path class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.path (JSON member) — Key prefix within the key-value store.">path</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.context class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.context (JSON member)">context</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.gcs_request_concurrency class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.gcs_request_concurrency (JSON member)">gcs_request_concurrency</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.gcs_user_project class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.gcs_user_project (JSON member)">gcs_user_project</span> </a> </li> <li class=md-nav__item> <a href=#json-kvstore/gcs.gcs_request_retries class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="kvstore/gcs.gcs_request_retries (JSON member)">gcs_request_retries</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-Context.gcs_user_project class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Context.gcs_user_project (JSON type)">Context.gcs_user_project</span> </a> <nav class=md-nav aria-label=Context.gcs_user_project> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Context.gcs_user_project.project_id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title='Context.gcs_user_project.project_id (JSON member) — Google Cloud project id, e.g. "my-project".  The Google Cloud
account that is used must have appropriate permissions to bill to the
specified project.'>project_id</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-Context.gcs_request_concurrency class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Context.gcs_request_concurrency (JSON type)">Context.gcs_request_concurrency</span> </a> <nav class=md-nav aria-label=Context.gcs_request_concurrency> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Context.gcs_request_concurrency.limit class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Context.gcs_request_concurrency.limit (JSON member)">limit</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-Context.gcs_request_retries class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Context.gcs_request_retries (JSON type)">Context.gcs_request_retries</span> </a> <nav class=md-nav aria-label=Context.gcs_request_retries> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Context.gcs_request_retries.max_retries class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Context.gcs_request_retries.max_retries (JSON member)">max_retries</span> </a> </li> <li class=md-nav__item> <a href=#json-Context.gcs_request_retries.initial_delay class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Context.gcs_request_retries.initial_delay (JSON member)">initial_delay</span> </a> </li> <li class=md-nav__item> <a href=#json-Context.gcs_request_retries.max_delay class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Context.gcs_request_retries.max_delay (JSON member)">max_delay</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-KvStoreUrl/gs class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="KvStoreUrl/gs (JSON type) — gs:// KvStore URL scheme">KvStoreUrl/gs</span> </a> </li> <li class=md-nav__item> <a href=#authentication class=md-nav__link> Authentication </a> </li> <li class=md-nav__item> <a href=#tls-ca-certificates class=md-nav__link> TLS CA certificates </a> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> Testing </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset" role=main> <h1 id=gcs-key-value-store-driver><span id=gcs-kvstore-driver></span><code class="docutils literal notranslate"><span class=pre>gcs</span></code> Key-Value Store driver<a class=headerlink href=#gcs-key-value-store-driver title="Permalink to this headline">¶</a></h1> <p>The <code class="docutils literal notranslate"><span class=pre>gcs</span></code> driver provides access to Google Cloud Storage. Keys directly correspond to paths within a Google Cloud Storage bucket.</p> <p><a class="reference external" href=https://cloud.google.com/kvstore/docs/generations-preconditions>Conditional writes</a> are used to safely allow concurrent access from multiple machines.</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-kvstore/gcs> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>kvstore/gcs</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-kvstore/gcs title="Permalink to this definition">¶</a></dt> <dd><p class=rubric>Extends</p> <ul class=simple> <li><p><a class="reference internal" href=../index.html#json-KvStore title="KvStore (JSON type) — Key-value store specification."><code class="xref json json-schema docutils literal notranslate"><span class=pre>KvStore</span></code></a> — Key-value store specification.</p></li> </ul> <p class=rubric>Required members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-kvstore/gcs.driver> <span class="sig-name descname"><span class=pre>driver</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;gcs&quot;</span></code><a class=headerlink href=#json-kvstore/gcs.driver title="Permalink to this definition">¶</a></dt> <dd></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-kvstore/gcs.bucket> <span class="sig-name descname"><span class=pre>bucket</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><a class=headerlink href=#json-kvstore/gcs.bucket title="Permalink to this definition">¶</a></dt> <dd><span><p>Google Cloud Storage bucket to use.</p> </span><p>The Google Cloud account that is used must have appropriate permissions on the bucket. If the bucket has <a class="reference external" href=https://cloud.google.com/kvstore/docs/requester-pays>Requestor Pays</a> enabled, either additional permissions are required or a separate billing project must be specified using <a class="reference internal" href=#json-Context.gcs_user_project title="Context.gcs_user_project (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Context.gcs_user_project</span></code></a>.</p> </dd></dl> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-kvstore/gcs.path> <span class="sig-name descname"><span class=pre>path</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><a class=headerlink href=#json-kvstore/gcs.path title="Permalink to this definition">¶</a></dt> <dd><span><p>Key prefix within the key-value store.</p> </span><p>If the prefix is intended to correspond to a Unix-style directory path, it should end with <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;/&quot;</span></code>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-kvstore/gcs.context> <span class="sig-name descname"><span class=pre>context</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../context.html#json-Context title="Context (JSON type)"><span class=pre>Context</span></a></span><a class=headerlink href=#json-kvstore/gcs.context title="Permalink to this definition">¶</a></dt> <dd><p>Specifies context resources that augment/override the parent context.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-kvstore/gcs.gcs_request_concurrency> <span class="sig-name descname"><span class=pre>gcs_request_concurrency</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../context.html#json-ContextResource title="ContextResource (JSON type)"><span class=pre>ContextResource</span></a></span><a class=headerlink href=#json-kvstore/gcs.gcs_request_concurrency title="Permalink to this definition">¶</a></dt> <dd><p>Specifies or references a previously defined <a class="reference internal" href=#json-Context.gcs_request_concurrency title="Context.gcs_request_concurrency (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Context.gcs_request_concurrency</span></code></a>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-kvstore/gcs.gcs_user_project> <span class="sig-name descname"><span class=pre>gcs_user_project</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../context.html#json-ContextResource title="ContextResource (JSON type)"><span class=pre>ContextResource</span></a></span><a class=headerlink href=#json-kvstore/gcs.gcs_user_project title="Permalink to this definition">¶</a></dt> <dd><p>Specifies or references a previously defined <a class="reference internal" href=#json-Context.gcs_user_project title="Context.gcs_user_project (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Context.gcs_user_project</span></code></a>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-kvstore/gcs.gcs_request_retries> <span class="sig-name descname"><span class=pre>gcs_request_retries</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../context.html#json-ContextResource title="ContextResource (JSON type)"><span class=pre>ContextResource</span></a></span><a class=headerlink href=#json-kvstore/gcs.gcs_request_retries title="Permalink to this definition">¶</a></dt> <dd><p>Specifies or references a previously defined <a class="reference internal" href=#json-Context.gcs_request_retries title="Context.gcs_request_retries (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Context.gcs_request_retries</span></code></a>.</p> </dd></dl> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Context.gcs_user_project> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>Context.gcs_user_project</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-Context.gcs_user_project title="Permalink to this definition">¶</a></dt> <dd><p>Specifies a Google Cloud project to bill for Google Cloud Storage requests. If a <a class="reference internal" href=#json-Context.gcs_user_project.project_id title='Context.gcs_user_project.project_id (JSON member) — Google Cloud project id, e.g. "my-project".  The Google Cloud account that is used must have appropriate permissions to bill to the specified project.'><code class="xref json json-schema docutils literal notranslate"><span class=pre>project_id</span></code></a> is not specified, requests are billed to the project that owns the bucket by default. For <a class="reference external" href=https://cloud.google.com/kvstore/docs/requester-pays>Requestor Pays</a> buckets, however, requests without a <a class="reference internal" href=#json-Context.gcs_user_project.project_id title='Context.gcs_user_project.project_id (JSON member) — Google Cloud project id, e.g. "my-project".  The Google Cloud account that is used must have appropriate permissions to bill to the specified project.'><code class="xref json json-schema docutils literal notranslate"><span class=pre>project_id</span></code></a> specified will fail unless the Google Cloud account has additional permissions.</p> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Context.gcs_user_project.project_id> <span class="sig-name descname"><span class=pre>project_id</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><a class=headerlink href=#json-Context.gcs_user_project.project_id title="Permalink to this definition">¶</a></dt> <dd><span><p>Google Cloud project id, e.g. <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;my-project&quot;</span></code>. The Google Cloud account that is used must have appropriate permissions to bill to the specified project.</p> </span></dd></dl> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Context.gcs_request_concurrency> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>Context.gcs_request_concurrency</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-Context.gcs_request_concurrency title="Permalink to this definition">¶</a></dt> <dd><p>Specifies a limit on the number of concurrent requests to Google Cloud Storage.</p> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Context.gcs_request_concurrency.limit> <span class="sig-name descname"><span class=pre>limit</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;shared&quot;</span></code><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;shared&quot;</span></code><a class=headerlink href=#json-Context.gcs_request_concurrency.limit title="Permalink to this definition">¶</a></dt> <dd><p>The maximum number of concurrent requests. If the special value of <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;shared&quot;</span></code> is specified, a shared global limit specified by environment variable <span class=target id=index-0></span><a class="reference internal" href=../../environment.html#envvar-TENSORSTORE_GCS_REQUEST_CONCURRENCY><code class="xref std std-envvar docutils literal notranslate"><span class=pre>TENSORSTORE_GCS_REQUEST_CONCURRENCY</span></code></a>, which defaults to 32.</p> </dd></dl> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Context.gcs_request_retries> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>Context.gcs_request_retries</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-Context.gcs_request_retries title="Permalink to this definition">¶</a></dt> <dd><p>Specifies retry parameters for handling transient network errors. An exponential delay is added between consecutive retry attempts. The default values are appropriate for GCS.</p> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Context.gcs_request_retries.max_retries> <span class="sig-name descname"><span class=pre>max_retries</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>32</span></code><a class=headerlink href=#json-Context.gcs_request_retries.max_retries title="Permalink to this definition">¶</a></dt> <dd><p>Maximum number of attempts in the case of transient errors.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Context.gcs_request_retries.initial_delay> <span class="sig-name descname"><span class=pre>initial_delay</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;1s&quot;</span></code><a class=headerlink href=#json-Context.gcs_request_retries.initial_delay title="Permalink to this definition">¶</a></dt> <dd><p>Initial backoff delay for transient errors.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Context.gcs_request_retries.max_delay> <span class="sig-name descname"><span class=pre>max_delay</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;32s&quot;</span></code><a class=headerlink href=#json-Context.gcs_request_retries.max_delay title="Permalink to this definition">¶</a></dt> <dd><p>Maximum backoff delay for transient errors.</p> </dd></dl> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-KvStoreUrl/gs> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>KvStoreUrl/gs</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-KvStoreUrl/gs title="Permalink to this definition">¶</a></dt> <dd><span><p><code class="docutils literal notranslate"><span class=pre>gs://</span></code> KvStore URL scheme</p> </span><p>Google Cloud Storage-based key-value stores may be specified using the <code class="file docutils literal notranslate"><span class=pre>gs://</span><em><span class=pre>bucket</span></em><span class=pre>/</span><em><span class=pre>path</span></em></code> URL syntax, as supported by <a class="reference external" href=https://cloud.google.com/storage/docs/gsutil>gsutil</a>.</p> <div class="example admonition"> <p class=admonition-title>Examples</p> <table class="colwidths-auto docutils data align-default"> <thead> <tr class=row-odd><th class=head><p>URL representation</p></th> <th class=head><p>JSON representation</p></th> </tr> </thead> <tbody> <tr class=row-even><td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;gs://my-bucket&quot;</span></code></p></td> <td><div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=nt>&quot;driver&quot;</span><span class=p>:</span> <span class=s2>&quot;gcs&quot;</span><span class=p>,</span>
 <span class=nt>&quot;bucket&quot;</span><span class=p>:</span> <span class=s2>&quot;my-bucket&quot;</span><span class=p>}</span>
</code></pre></div> </div> </td> </tr> <tr class=row-odd><td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;gs://bucket/path/to/dataset&quot;</span></code></p></td> <td><div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=nt>&quot;driver&quot;</span><span class=p>:</span> <span class=s2>&quot;gcs&quot;</span><span class=p>,</span>
 <span class=nt>&quot;bucket&quot;</span><span class=p>:</span> <span class=s2>&quot;my-bucket&quot;</span><span class=p>,</span>
 <span class=nt>&quot;path&quot;</span><span class=p>:</span> <span class=s2>&quot;path/to/dataset&quot;</span><span class=p>}</span>
</code></pre></div> </div> </td> </tr> </tbody> </table> </div> <p class=rubric>Extends</p> <ul class=simple> <li><p><a class="reference internal" href=../index.html#json-KvStoreUrl title="KvStoreUrl (JSON type) — URL representation of a key-value store."><code class="xref json json-schema docutils literal notranslate"><span class=pre>KvStoreUrl</span></code></a> — URL representation of a key-value store.</p></li> </ul> </dd></dl> <h2 id=authentication><span id=gcs-authentication></span>Authentication<a class=headerlink href=#authentication title="Permalink to this headline">¶</a></h2> <p>To use the <code class="docutils literal notranslate"><span class=pre>gcs</span></code> driver, you can access buckets that allow public access (i.e. access by <code class="docutils literal notranslate"><span class=pre>allUsers</span></code>) without credentials. In order to access non-public buckets, you must specify service account credentials, which can be done through one of the following methods:</p> <ol class=arabic> <li><p>Set the <span class=target id=index-1></span><a class="reference internal" href=../../environment.html#envvar-GOOGLE_APPLICATION_CREDENTIALS><code class="xref std std-envvar docutils literal notranslate"><span class=pre>GOOGLE_APPLICATION_CREDENTIALS</span></code></a> environment variable to the local path to a <a class="reference external" href=https://cloud.google.com/docs/authentication/getting-started>Google Cloud JSON credentials file</a>.</p></li> <li><p>Set up <a class="reference external" href=https://cloud.google.com/sdk/gcloud/reference/auth/application-default/login>Google Cloud SDK application default credentials</a>. <a class="reference external" href=https://cloud.google.com/sdk/docs>Install the Google Cloud SDK</a> and run:</p> <div class="highlight-shell notranslate"><div class=highlight><pre><span></span><code>gcloud auth application-default login
</code></pre></div> </div> <p>This stores Google Cloud credentials in <code class="file docutils literal notranslate"><span class=pre>~/.config/gcloud/application_default_credentials.json</span></code> or <code class="file docutils literal notranslate"><span class=pre>$CLOUDSDK_CONFIG/application_default_credentials.json</span></code>.</p> <p>This is often the most convenient method to use on a development machine.</p> </li> <li><p>On Google Compute Engine (GCE), the default service account credentials are retrieved automatically from the metadata service if credentials are not otherwise specified.</p></li> </ol> <h2 id=tls-ca-certificates>TLS CA certificates<a class=headerlink href=#tls-ca-certificates title="Permalink to this headline">¶</a></h2> <p>TensorStore connects to the Google Cloud Storage API using HTTP and depends on the system certificate authority (CA) store to secure connections. In many cases it will work by default without any additional configuration, but if you receive an error like:</p> <div class="highlight-none notranslate"><div class=highlight><pre><span></span><code>CURL error[77] Problem with the SSL CA cert (path? access rights?):
error setting certificate verify locations:
  CAfile: /etc/ssl/certs/ca-certificates.crt
  CApath: none
</code></pre></div> </div> <p>refer to the <a class="reference internal" href=../../environment.html#http-environment-variables><span class="std std-ref">HTTP request-related environment variables</span></a> section for information on how to specify the path to the system certificate store at runtime.</p> <h2 id=testing>Testing<a class=headerlink href=#testing title="Permalink to this headline">¶</a></h2> <p>To test the <code class="docutils literal notranslate"><span class=pre>gcs</span></code> driver with a fake Google Cloud Storage server, such as <a class="reference external" href=https://github.com/fsouza/fake-gcs-server>fake-gcs-server</a>, you can set the <span class=target id=index-2></span><a class="reference internal" href=../../environment.html#envvar-TENSORSTORE_GCS_HTTP_URL><code class="xref std std-envvar docutils literal notranslate"><span class=pre>TENSORSTORE_GCS_HTTP_URL</span></code></a> environment variable to e.g. <code class="docutils literal notranslate"><span class=pre>http://localhost:4443</span></code>.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-up width=24 height=24 viewbox="0 0 24 24"><path d=M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z /></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../file/index.html class="md-footer__link md-footer__link--prev" aria-label="Previous: file Key-Value Store driver" rel=prev> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> file Key-Value Store driver </div> </div> </a> <a href=../http/index.html class="md-footer__link md-footer__link--next" aria-label="Next: http Key-Value Store driver" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> http Key-Value Store driver </div> </div> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-right width=24 height=24 viewbox="0 0 24 24"><path d=M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z /></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.expand", "navigation.sections", "navigation.top"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script> <script src=../../_static/javascripts/bundle.js></script> <script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script> </body> </html>