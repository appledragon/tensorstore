<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=_static/logo.svg><title>Schema - TensorStore</title><link rel=stylesheet href=_static/stylesheets/main.css><link rel=stylesheet href=_static/stylesheets/palette.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>
          :root {
            --md-text-font-family: "Roboto";
            --md-code-font-family: "Roboto Mono";
          }
        </style></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue> <script>

  /* Prepend the base path to the given key to ensure uniqueness */
  function __prefix(key) {
    var prefix = new URL(".", location)
    return prefix.pathname + "." + key
  }

  /* Fetch the given key from the given storage */
  function __get(key, storage = localStorage) {
    return JSON.parse(storage.getItem(__prefix(key)))
  }
</script> <script>
  var palette = __get("__palette")
  if (palette !== null && typeof palette.color === "object")
    for (var key in palette.color)
      document.body.setAttribute("data-md-color-" + key, palette.color[key])
</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=index.html title=TensorStore class="md-header__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> <label class="md-header__button md-icon" for=__drawer> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-menu width=24 height=24 viewbox="0 0 24 24"><path d=M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z /></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> TensorStore </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Schema </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb-outline width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-close width=24 height=24 viewbox="0 0 24 24"><path d=M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z /></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=index.html title=TensorStore class="md-nav__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> TensorStore </label> <div class=md-nav__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 data-md-state=indeterminate type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1> <a class href=python/tutorial.html>Python API</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Python API" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Python API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=python/tutorial.html class=md-nav__link> Tutorial </a> </li> <li class=md-nav__item> <a href=python/indexing.html class=md-nav__link> Indexing </a> </li> <li class=md-nav__item> <a href=python/api/index.html class=md-nav__link> API reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 data-md-state=indeterminate type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> <a class href=installation.html>Setup</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=installation.html class=md-nav__link> Building and Installing </a> </li> <li class=md-nav__item> <a href=environment.html class=md-nav__link> Environment variables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> <a class href=spec.html>JSON</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=JSON data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> JSON </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=spec.html class=md-nav__link> JSON Spec </a> </li> <li class=md-nav__item> <a href=index_space.html class=md-nav__link> Index space </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Schema <span class="md-nav__icon md-icon"></span> </label> <a href class="md-nav__link md-nav__link--active"> Schema </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Schema </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#json-Schema class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Schema (JSON type)">Schema</span> </a> <nav class=md-nav aria-label=Schema> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Schema.rank class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.rank (JSON member) — Number of dimensions.">rank</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.dtype class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.dtype (JSON member) — Specifies the data type of the TensorStore.">dtype</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.domain class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.domain (JSON member) — Domain of the TensorStore, including bounds and optional dimension labels.">domain</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.chunk_layout class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.chunk_layout (JSON member) — Data storage layout constraints.">chunk_layout</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.codec class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.codec (JSON member)">codec</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.fill_value class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.fill_value (JSON member) — Fill value to use for missing data.">fill_value</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.dimension_units class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.dimension_units (JSON member) — Physical units of each dimension.">dimension_units</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#chunk-layout class=md-nav__link> Chunk layout </a> <nav class=md-nav aria-label="Chunk layout"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-ChunkLayout class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="ChunkLayout (JSON type)">ChunkLayout</span> </a> <nav class=md-nav aria-label=ChunkLayout> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-ChunkLayout.rank class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.rank (JSON member) — Number of dimensions.">rank</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.grid_origin class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.grid_origin (JSON member) — Specifies hard constraints on the origin of the chunk grid.">grid_origin</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.grid_origin_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.grid_origin_soft_constraint (JSON member) — Specifies preferred values for the origin of the chunk grid rather than
hard constraints.">grid_origin_soft_constraint</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.inner_order class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost
chunks.">inner_order</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.inner_order_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.inner_order_soft_constraint (JSON member) — Specifies a preferred value for inner_order rather than a
hard constraint.  If inner_order is also specified, it
takes precedence.">inner_order_soft_constraint</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.write_chunk class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.write_chunk (JSON member) — Constraints on the chunk grid over which writes may be efficiently
partitioned.">write_chunk</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.read_chunk class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.read_chunk (JSON member) — Constraints on the chunk grid over which reads may be efficiently
partitioned.">read_chunk</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.codec_chunk class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.codec_chunk (JSON member) — Constraints on the chunk grid used by the codec, if applicable.">codec_chunk</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.chunk class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.chunk (JSON member) — Combined constraints on write/read/codec chunks.">chunk</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="ChunkLayout/Grid (JSON type) — Constraints on the write/read/codec chunk grids.">ChunkLayout/Grid</span> </a> <nav class=md-nav aria-label=ChunkLayout/Grid> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.shape class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension.">shape</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.shape_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.shape_soft_constraint (JSON member) — Preferred chunk sizes for each dimension.">shape_soft_constraint</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.aspect_ratio class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape.">aspect_ratio</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.aspect_ratio_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.aspect_ratio_soft_constraint (JSON member) — Soft constraint on aspect ratio, lower precedence than aspect_ratio.">aspect_ratio_soft_constraint</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.elements class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk.">elements</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.elements_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.elements_soft_constraint (JSON member) — Preferred number of elements per chunk, lower precedence than
elements.">elements_soft_constraint</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#codec class=md-nav__link> Codec </a> <nav class=md-nav aria-label=Codec> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Codec class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Codec (JSON type)">Codec</span> </a> <nav class=md-nav aria-label=Codec> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Codec.driver class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Codec.driver (JSON member) — Driver identifier">driver</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dimension-units class=md-nav__link> Dimension units </a> <nav class=md-nav aria-label="Dimension units"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Unit class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Unit (JSON type) — Specifies a physical quantity/unit.">Unit</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=context.html class=md-nav__link> Context framework </a> </li> <li class=md-nav__item> <a href=driver/index.html class=md-nav__link> Drivers </a> </li> <li class=md-nav__item> <a href=kvstore/index.html class=md-nav__link> Key-Value Storage Layer </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Schema </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#json-Schema class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Schema (JSON type)">Schema</span> </a> <nav class=md-nav aria-label=Schema> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Schema.rank class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.rank (JSON member) — Number of dimensions.">rank</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.dtype class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.dtype (JSON member) — Specifies the data type of the TensorStore.">dtype</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.domain class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.domain (JSON member) — Domain of the TensorStore, including bounds and optional dimension labels.">domain</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.chunk_layout class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.chunk_layout (JSON member) — Data storage layout constraints.">chunk_layout</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.codec class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.codec (JSON member)">codec</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.fill_value class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.fill_value (JSON member) — Fill value to use for missing data.">fill_value</span> </a> </li> <li class=md-nav__item> <a href=#json-Schema.dimension_units class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Schema.dimension_units (JSON member) — Physical units of each dimension.">dimension_units</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#chunk-layout class=md-nav__link> Chunk layout </a> <nav class=md-nav aria-label="Chunk layout"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-ChunkLayout class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="ChunkLayout (JSON type)">ChunkLayout</span> </a> <nav class=md-nav aria-label=ChunkLayout> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-ChunkLayout.rank class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.rank (JSON member) — Number of dimensions.">rank</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.grid_origin class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.grid_origin (JSON member) — Specifies hard constraints on the origin of the chunk grid.">grid_origin</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.grid_origin_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.grid_origin_soft_constraint (JSON member) — Specifies preferred values for the origin of the chunk grid rather than
hard constraints.">grid_origin_soft_constraint</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.inner_order class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost
chunks.">inner_order</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.inner_order_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.inner_order_soft_constraint (JSON member) — Specifies a preferred value for inner_order rather than a
hard constraint.  If inner_order is also specified, it
takes precedence.">inner_order_soft_constraint</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.write_chunk class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.write_chunk (JSON member) — Constraints on the chunk grid over which writes may be efficiently
partitioned.">write_chunk</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.read_chunk class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.read_chunk (JSON member) — Constraints on the chunk grid over which reads may be efficiently
partitioned.">read_chunk</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.codec_chunk class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.codec_chunk (JSON member) — Constraints on the chunk grid used by the codec, if applicable.">codec_chunk</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout.chunk class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout.chunk (JSON member) — Combined constraints on write/read/codec chunks.">chunk</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="ChunkLayout/Grid (JSON type) — Constraints on the write/read/codec chunk grids.">ChunkLayout/Grid</span> </a> <nav class=md-nav aria-label=ChunkLayout/Grid> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.shape class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension.">shape</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.shape_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.shape_soft_constraint (JSON member) — Preferred chunk sizes for each dimension.">shape_soft_constraint</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.aspect_ratio class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape.">aspect_ratio</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.aspect_ratio_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.aspect_ratio_soft_constraint (JSON member) — Soft constraint on aspect ratio, lower precedence than aspect_ratio.">aspect_ratio_soft_constraint</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.elements class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk.">elements</span> </a> </li> <li class=md-nav__item> <a href=#json-ChunkLayout/Grid.elements_soft_constraint class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="ChunkLayout/Grid.elements_soft_constraint (JSON member) — Preferred number of elements per chunk, lower precedence than
elements.">elements_soft_constraint</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#codec class=md-nav__link> Codec </a> <nav class=md-nav aria-label=Codec> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Codec class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Codec (JSON type)">Codec</span> </a> <nav class=md-nav aria-label=Codec> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Codec.driver class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="Codec.driver (JSON member) — Driver identifier">driver</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dimension-units class=md-nav__link> Dimension units </a> <nav class=md-nav aria-label="Dimension units"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-Unit class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="Unit (JSON type) — Specifies a physical quantity/unit.">Unit</span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset" role=main> <h1 id=schema><span id=id1></span>Schema<a class=headerlink href=#schema title="Permalink to this headline">¶</a></h1> <p>The <em>schema</em> of a TensorStore specifies key properties of the format in a uniform way that is independent of where and how the data is actually stored. When creating a TensorStore, schema constraints and preferences may be specified; the driver combines these constraints with any driver-specific constraints/defaults to choose a suitable schema automatically. When opening an existing TensorStore, its schema is validated against any constraints that are specified.</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Schema> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>Schema</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-Schema title="Permalink to this definition">¶</a></dt> <dd><p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Schema.rank> <span class="sig-name descname"><span class=pre>rank</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span></code><span class=p><span class=pre>,</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>32</span></code><span class=p><span class=pre>]</span></span></sub><a class=headerlink href=#json-Schema.rank title="Permalink to this definition">¶</a></dt> <dd><span><p>Number of dimensions.</p> </span><p>The rank is always a hard constraint.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Schema.dtype> <span class="sig-name descname"><span class=pre>dtype</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=spec.html#json-dtype title="dtype (JSON type) — Specifies a TensorStore data type."><span class=pre>dtype</span></a></span><a class=headerlink href=#json-Schema.dtype title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the data type of the TensorStore.</p> </span><p>The data type is always a hard constraint.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Schema.domain> <span class="sig-name descname"><span class=pre>domain</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=index_space.html#json-IndexDomain title="IndexDomain (JSON type)"><span class=pre>IndexDomain</span></a></span><a class=headerlink href=#json-Schema.domain title="Permalink to this definition">¶</a></dt> <dd><span><p>Domain of the TensorStore, including bounds and optional dimension labels.</p> </span><p>The domain is always a hard constraint, except that a labeled dimension is allowed to match an unlabeled dimension, and an implicit, infinite bound is considered an unspecified bound and does not impose any constraints. When merging two schema constraint objects that both specify domains, any dimensions that are labeled in both domains must have the same label, and any explicit or finite bounds specified in both domains must be equal. If a dimension is labeled in one domain and unlabeled in the other, the label is retained. If a bound is implicit and infinite in one domain, the bound from the other domain is used.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Schema.chunk_layout> <span class="sig-name descname"><span class=pre>chunk_layout</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=#json-ChunkLayout title="ChunkLayout (JSON type)"><span class=pre>ChunkLayout</span></a></span><a class=headerlink href=#json-Schema.chunk_layout title="Permalink to this definition">¶</a></dt> <dd><span><p>Data storage layout constraints.</p> </span><p>The rank of the chunk layout must match the <a class="reference internal" href=#json-Schema.rank title="Schema.rank (JSON member) — Number of dimensions."><code class="xref json json-schema docutils literal notranslate"><span class=pre>rank</span></code></a> of the schema. When merging schema constraints objects, the chunk layout constraints are merged recursively.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Schema.codec> <span class="sig-name descname"><span class=pre>codec</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=#json-Codec title="Codec (JSON type)"><span class=pre>Codec</span></a></span><a class=headerlink href=#json-Schema.codec title="Permalink to this definition">¶</a></dt> <dd><p>Driver-specific compression and other parameters for encoding/decoding data. When merging schema constraints objects, the codec constraints are merged recursively.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Schema.fill_value> <span class="sig-name descname"><span class=pre>fill_value</span></span><a class=headerlink href=#json-Schema.fill_value title="Permalink to this definition">¶</a></dt> <dd><span><p>Fill value to use for missing data.</p> </span><p>Must be <a class="reference internal" href=index_space.html#index-domain-alignment><span class="std std-ref">broadcast-compatible</span></a> with the <a class="reference internal" href=#json-Schema.domain title="Schema.domain (JSON member) — Domain of the TensorStore, including bounds and optional dimension labels."><code class="xref json json-schema docutils literal notranslate"><span class=pre>domain</span></code></a>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Schema.dimension_units> <span class="sig-name descname"><span class=pre>dimension_units</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><a class="reference internal" href=#json-Unit title="Unit (JSON type) — Specifies a physical quantity/unit."><span class=pre>Unit</span></a></span><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-Schema.dimension_units title="Permalink to this definition">¶</a></dt> <dd><span><p>Physical units of each dimension.</p> </span><p>Specifies the physical quantity corresponding to an increment of 1 index along each dimension, i.e. the <em>resolution</em>. The length must match the <a class="reference internal" href=#json-Schema.rank title="Schema.rank (JSON member) — Number of dimensions."><code class="xref json json-schema docutils literal notranslate"><span class=pre>rank</span></code></a> of the schema. Specifying <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code> for a dimension indicates that the unit is unknown.</p> <div class="admonition-example-class-example admonition"> <p class=admonition-title>Example class: example</p> <p><code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=s2>&quot;4nm&quot;</span><span class=p>,</span> <span class=s2>&quot;4nm&quot;</span><span class=p>,</span> <span class=kc>null</span><span class=p>]</span></code> specifies that the voxel size is 4nm along the first two dimensions, and unknown along the third dimension.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code> is not equivalent to specifying <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&quot;</span></code> (or equivalently, <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>]</span></code>), which indicates a dimensionless unit of <code class="code highlight json docutils literal highlight-json"><span class=mi>1</span></code>.</p> </div> </dd></dl> </dd></dl> <h2 id=chunk-layout><span id=id2></span>Chunk layout<a class=headerlink href=#chunk-layout title="Permalink to this headline">¶</a></h2> <p>For <a class="reference internal" href=driver/index.html#chunked-drivers><span class="std std-ref">chunked storage formats</span></a>, the data storage layout can be represented in a driver-independent way as a <em>chunk layout</em>.</p> <p>A chunk layout specifies a hierarchical regular grid with up to three levels:</p> <ul class=simple> <li><p>The <em>write</em> level, the top-most level, specifies the grid to which writes should be aligned. Writes of individual chunkss at this level may be performed without amplification. For the <a class="reference internal" href=driver/zarr/index.html#zarr-driver><span class="std std-ref">zarr Driver</span></a>, <a class="reference internal" href=driver/n5/index.html#n5-driver><span class="std std-ref">n5 Driver</span></a> and the <a class="reference internal" href=driver/neuroglancer_precomputed/index.html#neuroglancer-precomputed-driver><span class="std std-ref">neuroglancer_precomputed Driver</span></a> using the unsharded format, the write level is also the only level; each write chunk corresponds to a single key in the underlying <a class="reference internal" href=kvstore/index.html#key-value-store><span class="std std-ref">Key-Value Storage Layer</span></a>. For the <a class="reference internal" href=driver/neuroglancer_precomputed/index.html#neuroglancer-precomputed-driver><span class="std std-ref">neuroglancer_precomputed Driver</span></a> using the sharded format, each write chunk corresponds to an entire shard.</p></li> <li><p>The <em>read</em> level evenly subdivides <em>write</em> chunks by an additional regular grid. Reads of individual chunks at this level may be performed without amplification. Every write chunk boundary must be aligned to a read chunk boundary. If reads and writes may be performed at the same granularity, such as with the <a class="reference internal" href=driver/zarr/index.html#zarr-driver><span class="std std-ref">zarr Driver</span></a>, <a class="reference internal" href=driver/n5/index.html#n5-driver><span class="std std-ref">n5 Driver</span></a>, and the <a class="reference internal" href=driver/neuroglancer_precomputed/index.html#neuroglancer-precomputed-driver><span class="std std-ref">neuroglancer_precomputed Driver</span></a> using the unsharded format, there is no additional read grid; a read chunk is the same size as a write chunk. For the <a class="reference internal" href=driver/neuroglancer_precomputed/index.html#neuroglancer-precomputed-driver><span class="std std-ref">neuroglancer_precomputed Driver</span></a> using the sharded format, each read chunk corresponds to a base chunk as defined by the format.</p></li> <li><p>The <em>codec</em> level further subdivides the read level into codec chunks. For formats that make use of it, the codec chunk shape may affect the compression rate. For the <a class="reference internal" href=driver/neuroglancer_precomputed/index.html#neuroglancer-precomputed-driver><span class="std std-ref">neuroglancer_precomputed Driver</span></a> when using the compressed segmentation encoding, the codec chunk shape specifies the compressed segmentation block shape. The codec block shape does <em>not</em> necessarily evenly subdivide the read chunk shape. (The precise offset of the codec chunk grid relative to the read chunk grid is not specified by the chunk layout.)</p></li> </ul> <p>When creating a new TensorStore, constraints on the data storage layout can be specified without specifying the precise layout explicitly.</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>ChunkLayout</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-ChunkLayout title="Permalink to this definition">¶</a></dt> <dd><p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.rank> <span class="sig-name descname"><span class=pre>rank</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span></code><span class=p><span class=pre>,</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>32</span></code><span class=p><span class=pre>]</span></span></sub><a class=headerlink href=#json-ChunkLayout.rank title="Permalink to this definition">¶</a></dt> <dd><span><p>Number of dimensions.</p> </span><p>The rank is always a hard constraint. It is redundant to specify the rank if any other field that implicitly specifies the rank is included.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.grid_origin> <span class="sig-name descname"><span class=pre>grid_origin</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>integer</span></span><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-ChunkLayout.grid_origin title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies hard constraints on the origin of the chunk grid.</p> </span><p>The length must equal the rank of the index space. Each element constrains the grid origin for the corresponding dimension. A value of <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code> (or, equivalently, <code class="code highlight json docutils literal highlight-json"><span class=mi>-9223372036854775808</span></code>) indicates no constraint.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.grid_origin_soft_constraint> <span class="sig-name descname"><span class=pre>grid_origin_soft_constraint</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>integer</span></span><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-ChunkLayout.grid_origin_soft_constraint title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies preferred values for the origin of the chunk grid rather than hard constraints.</p> </span><p>If a non-<code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code> value is specified for a given dimension in both <a class="reference internal" href=#json-ChunkLayout.grid_origin_soft_constraint title="ChunkLayout.grid_origin_soft_constraint (JSON member) — Specifies preferred values for the origin of the chunk grid rather than hard constraints."><code class="xref json json-schema docutils literal notranslate"><span class=pre>grid_origin_soft_constraint</span></code></a> and <a class="reference internal" href=#json-ChunkLayout.grid_origin title="ChunkLayout.grid_origin (JSON member) — Specifies hard constraints on the origin of the chunk grid."><code class="xref json json-schema docutils literal notranslate"><span class=pre>grid_origin</span></code></a>, the value in <a class="reference internal" href=#json-ChunkLayout.grid_origin title="ChunkLayout.grid_origin (JSON member) — Specifies hard constraints on the origin of the chunk grid."><code class="xref json json-schema docutils literal notranslate"><span class=pre>grid_origin</span></code></a> takes precedence.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.inner_order> <span class="sig-name descname"><span class=pre>inner_order</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>integer</span></span><a class=headerlink href=#json-ChunkLayout.inner_order title="Permalink to this definition">¶</a></dt> <dd><span><p>Permutation specifying the element storage order within the innermost chunks.</p> </span><p>This must be a permutation of <code class="docutils literal notranslate"><span class=pre>[0,</span> <span class=pre>1,</span> <span class=pre>...,</span> <span class=pre>rank-1]</span></code>. Lexicographic order (i.e. C order/row-major order) is specified as <code class="docutils literal notranslate"><span class=pre>[0,</span> <span class=pre>1,</span> <span class=pre>...,</span> <span class=pre>rank-1]</span></code>, while colexicographic order (i.e. Fortran order/column-major order) is specified as <code class="docutils literal notranslate"><span class=pre>[rank-1,</span> <span class=pre>...,</span> <span class=pre>1,</span> <span class=pre>0]</span></code>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.inner_order_soft_constraint> <span class="sig-name descname"><span class=pre>inner_order_soft_constraint</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>integer</span></span><a class=headerlink href=#json-ChunkLayout.inner_order_soft_constraint title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies a preferred value for <a class="reference internal" href=#json-ChunkLayout.inner_order title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>inner_order</span></code></a> rather than a hard constraint. If <a class="reference internal" href=#json-ChunkLayout.inner_order title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>inner_order</span></code></a> is also specified, it takes precedence.</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.write_chunk> <span class="sig-name descname"><span class=pre>write_chunk</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=#json-ChunkLayout/Grid title="ChunkLayout/Grid (JSON type) — Constraints on the write/read/codec chunk grids."><span class=pre>ChunkLayout/Grid</span></a></span><a class=headerlink href=#json-ChunkLayout.write_chunk title="Permalink to this definition">¶</a></dt> <dd><span><p>Constraints on the chunk grid over which writes may be efficiently partitioned.</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.read_chunk> <span class="sig-name descname"><span class=pre>read_chunk</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=#json-ChunkLayout/Grid title="ChunkLayout/Grid (JSON type) — Constraints on the write/read/codec chunk grids."><span class=pre>ChunkLayout/Grid</span></a></span><a class=headerlink href=#json-ChunkLayout.read_chunk title="Permalink to this definition">¶</a></dt> <dd><span><p>Constraints on the chunk grid over which reads may be efficiently partitioned.</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.codec_chunk> <span class="sig-name descname"><span class=pre>codec_chunk</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=#json-ChunkLayout/Grid title="ChunkLayout/Grid (JSON type) — Constraints on the write/read/codec chunk grids."><span class=pre>ChunkLayout/Grid</span></a></span><a class=headerlink href=#json-ChunkLayout.codec_chunk title="Permalink to this definition">¶</a></dt> <dd><span><p>Constraints on the chunk grid used by the codec, if applicable.</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout.chunk> <span class="sig-name descname"><span class=pre>chunk</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=#json-ChunkLayout/Grid title="ChunkLayout/Grid (JSON type) — Constraints on the write/read/codec chunk grids."><span class=pre>ChunkLayout/Grid</span></a></span><a class=headerlink href=#json-ChunkLayout.chunk title="Permalink to this definition">¶</a></dt> <dd><span><p>Combined constraints on write/read/codec chunks.</p> </span><p>If <a class="reference internal" href=#json-ChunkLayout/Grid.aspect_ratio title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape."><code class="xref json json-schema docutils literal notranslate"><span class=pre>aspect_ratio</span></code></a> is specified, it applies to <a class="reference internal" href=#json-ChunkLayout.write_chunk title="ChunkLayout.write_chunk (JSON member) — Constraints on the chunk grid over which writes may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>write_chunk</span></code></a>, <a class="reference internal" href=#json-ChunkLayout.read_chunk title="ChunkLayout.read_chunk (JSON member) — Constraints on the chunk grid over which reads may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>read_chunk</span></code></a>, and <a class="reference internal" href=#json-ChunkLayout.codec_chunk title="ChunkLayout.codec_chunk (JSON member) — Constraints on the chunk grid used by the codec, if applicable."><code class="xref json json-schema docutils literal notranslate"><span class=pre>codec_chunk</span></code></a>. If <a class="reference internal" href=#json-ChunkLayout/Grid.aspect_ratio_soft_constraint title="ChunkLayout/Grid.aspect_ratio_soft_constraint (JSON member) — Soft constraint on aspect ratio, lower precedence than aspect_ratio."><code class="xref json json-schema docutils literal notranslate"><span class=pre>aspect_ratio_soft_constraint</span></code></a> is specified, it also applies to <a class="reference internal" href=#json-ChunkLayout.write_chunk title="ChunkLayout.write_chunk (JSON member) — Constraints on the chunk grid over which writes may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>write_chunk</span></code></a>, <a class="reference internal" href=#json-ChunkLayout.read_chunk title="ChunkLayout.read_chunk (JSON member) — Constraints on the chunk grid over which reads may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>read_chunk</span></code></a>, and <a class="reference internal" href=#json-ChunkLayout.codec_chunk title="ChunkLayout.codec_chunk (JSON member) — Constraints on the chunk grid used by the codec, if applicable."><code class="xref json json-schema docutils literal notranslate"><span class=pre>codec_chunk</span></code></a>, but with lower precedence than any write/read/codec-specific value that is also specified.</p> <p>If <a class="reference internal" href=#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape</span></code></a> or <a class="reference internal" href=#json-ChunkLayout/Grid.elements title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk."><code class="xref json json-schema docutils literal notranslate"><span class=pre>elements</span></code></a> is specified, it applies to <a class="reference internal" href=#json-ChunkLayout.write_chunk title="ChunkLayout.write_chunk (JSON member) — Constraints on the chunk grid over which writes may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>write_chunk</span></code></a> and <a class="reference internal" href=#json-ChunkLayout.read_chunk title="ChunkLayout.read_chunk (JSON member) — Constraints on the chunk grid over which reads may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>read_chunk</span></code></a> (but not <a class="reference internal" href=#json-ChunkLayout.codec_chunk title="ChunkLayout.codec_chunk (JSON member) — Constraints on the chunk grid used by the codec, if applicable."><code class="xref json json-schema docutils literal notranslate"><span class=pre>codec_chunk</span></code></a>). If <a class="reference internal" href=#json-ChunkLayout/Grid.shape_soft_constraint title="ChunkLayout/Grid.shape_soft_constraint (JSON member) — Preferred chunk sizes for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape_soft_constraint</span></code></a> or <a class="reference internal" href=#json-ChunkLayout/Grid.elements_soft_constraint title="ChunkLayout/Grid.elements_soft_constraint (JSON member) — Preferred number of elements per chunk, lower precedence than elements."><code class="xref json json-schema docutils literal notranslate"><span class=pre>elements_soft_constraint</span></code></a> is specified, it also applies to <a class="reference internal" href=#json-ChunkLayout.write_chunk title="ChunkLayout.write_chunk (JSON member) — Constraints on the chunk grid over which writes may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>write_chunk</span></code></a> and <a class="reference internal" href=#json-ChunkLayout.read_chunk title="ChunkLayout.read_chunk (JSON member) — Constraints on the chunk grid over which reads may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>read_chunk</span></code></a>, but with lower precedence than any write/read-specific value that is also specified.</p> </dd></dl> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout/Grid> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>ChunkLayout/Grid</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-ChunkLayout/Grid title="Permalink to this definition">¶</a></dt> <dd><span><p>Constraints on the write/read/codec chunk grids.</p> </span><p>When creating a new TensorStore, the chunk shape can be specified directly using the <a class="reference internal" href=#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape</span></code></a> and <a class="reference internal" href=#json-ChunkLayout/Grid.shape_soft_constraint title="ChunkLayout/Grid.shape_soft_constraint (JSON member) — Preferred chunk sizes for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape_soft_constraint</span></code></a> members, or indirectly by specifying the <a class="reference internal" href=#json-ChunkLayout/Grid.aspect_ratio title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape."><code class="xref json json-schema docutils literal notranslate"><span class=pre>aspect_ratio</span></code></a> and target number of <a class="reference internal" href=#json-ChunkLayout/Grid.elements title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk."><code class="xref json json-schema docutils literal notranslate"><span class=pre>elements</span></code></a>.</p> <p>When opening an existing TensorStore, the preferences indicated by <a class="reference internal" href=#json-ChunkLayout/Grid.shape_soft_constraint title="ChunkLayout/Grid.shape_soft_constraint (JSON member) — Preferred chunk sizes for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape_soft_constraint</span></code></a>, <a class="reference internal" href=#json-ChunkLayout/Grid.aspect_ratio title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape."><code class="xref json json-schema docutils literal notranslate"><span class=pre>aspect_ratio</span></code></a>, <a class="reference internal" href=#json-ChunkLayout/Grid.aspect_ratio_soft_constraint title="ChunkLayout/Grid.aspect_ratio_soft_constraint (JSON member) — Soft constraint on aspect ratio, lower precedence than aspect_ratio."><code class="xref json json-schema docutils literal notranslate"><span class=pre>aspect_ratio_soft_constraint</span></code></a>, <a class="reference internal" href=#json-ChunkLayout/Grid.elements title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk."><code class="xref json json-schema docutils literal notranslate"><span class=pre>elements</span></code></a>, and <a class="reference internal" href=#json-ChunkLayout/Grid.elements_soft_constraint title="ChunkLayout/Grid.elements_soft_constraint (JSON member) — Preferred number of elements per chunk, lower precedence than elements."><code class="xref json json-schema docutils literal notranslate"><span class=pre>elements_soft_constraint</span></code></a> are ignored; only <a class="reference internal" href=#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape</span></code></a> serves as a constraint.</p> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout/Grid.shape> <span class="sig-name descname"><span class=pre>shape</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>-1</span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-ChunkLayout/Grid.shape title="Permalink to this definition">¶</a></dt> <dd><span><p>Hard constraints on the chunk size for each dimension.</p> </span><p>The length must equal the rank of the index space. Each element constrains the chunk size for the corresponding dimension, and must be a non-negative integer. The special value of <code class="code highlight json docutils literal highlight-json"><span class=mi>0</span></code> (or, equivalently, <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code>)for a given dimension indicates no constraint. The special value of <code class="code highlight json docutils literal highlight-json"><span class=mi>-1</span></code> for a given dimension indicates that the chunk size should equal the full extent of the domain, and is always treated as a soft constraint.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout/Grid.shape_soft_constraint> <span class="sig-name descname"><span class=pre>shape_soft_constraint</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>-1</span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-ChunkLayout/Grid.shape_soft_constraint title="Permalink to this definition">¶</a></dt> <dd><span><p>Preferred chunk sizes for each dimension.</p> </span><p>If a non-zero, non-<code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code> size for a given dimension is specified in both <a class="reference internal" href=#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape</span></code></a> and <a class="reference internal" href=#json-ChunkLayout/Grid.shape_soft_constraint title="ChunkLayout/Grid.shape_soft_constraint (JSON member) — Preferred chunk sizes for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape_soft_constraint</span></code></a>, <a class="reference internal" href=#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape</span></code></a> takes precedence.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout/Grid.aspect_ratio> <span class="sig-name descname"><span class=pre>aspect_ratio</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>number</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-ChunkLayout/Grid.aspect_ratio title="Permalink to this definition">¶</a></dt> <dd><span><p>Aspect ratio of the chunk shape.</p> </span><p>Specifies the relative chunk size along each dimension. The special value of <code class="code highlight json docutils literal highlight-json"><span class=mi>0</span></code> (or, equivalently, <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code>) indicates no preference (which results in the default aspect ratio of <code class="code highlight json docutils literal highlight-json"><span class=mi>1</span></code> if not otherwise specified). The aspect ratio preference is only taken into account if the chunk size along a given dimension is not specified by <a class="reference internal" href=#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape</span></code></a> or <a class="reference internal" href=#json-ChunkLayout/Grid.shape_soft_constraint title="ChunkLayout/Grid.shape_soft_constraint (JSON member) — Preferred chunk sizes for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape_soft_constraint</span></code></a>, or otherwise constrained. For example, an <a class="reference internal" href=#json-ChunkLayout/Grid.aspect_ratio title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape."><code class="xref json json-schema docutils literal notranslate"><span class=pre>aspect_ratio</span></code></a> of <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>]</span></code> indicates that the chunk size along dimensions 1 and 2 should be 1.5 times the chunk size along dimension 0. If the target number of <a class="reference internal" href=#json-ChunkLayout/Grid.elements title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk."><code class="xref json json-schema docutils literal notranslate"><span class=pre>elements</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=mi>486000</span></code>, then the resultant chunk size will be <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>60</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>90</span><span class=p>]</span></code> (assuming it is not otherwise constrained).</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout/Grid.aspect_ratio_soft_constraint> <span class="sig-name descname"><span class=pre>aspect_ratio_soft_constraint</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>number</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-ChunkLayout/Grid.aspect_ratio_soft_constraint title="Permalink to this definition">¶</a></dt> <dd><span><p>Soft constraint on aspect ratio, lower precedence than <a class="reference internal" href=#json-ChunkLayout/Grid.aspect_ratio title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape."><code class="xref json json-schema docutils literal notranslate"><span class=pre>aspect_ratio</span></code></a>.</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout/Grid.elements> <span class="sig-name descname"><span class=pre>elements</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-ChunkLayout/Grid.elements title="Permalink to this definition">¶</a></dt> <dd><span><p>Preferred number of elements per chunk.</p> </span><p>Used in conjunction with <a class="reference internal" href=#json-ChunkLayout/Grid.aspect_ratio title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape."><code class="xref json json-schema docutils literal notranslate"><span class=pre>aspect_ratio</span></code></a> to determine the chunk size for dimensions that are not otherwise constrained. The special value of <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code> indicates no preference, in which case a driver-specific default may be used.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-ChunkLayout/Grid.elements_soft_constraint> <span class="sig-name descname"><span class=pre>elements_soft_constraint</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span></code><a class=headerlink href=#json-ChunkLayout/Grid.elements_soft_constraint title="Permalink to this definition">¶</a></dt> <dd><span><p>Preferred number of elements per chunk, lower precedence than <a class="reference internal" href=#json-ChunkLayout/Grid.elements title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk."><code class="xref json json-schema docutils literal notranslate"><span class=pre>elements</span></code></a>.</p> </span></dd></dl> </dd></dl> <h2 id=codec><span id=id3></span>Codec<a class=headerlink href=#codec title="Permalink to this headline">¶</a></h2> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Codec> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>Codec</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-Codec title="Permalink to this definition">¶</a></dt> <dd><p>Codecs are specified by a required <a class="reference internal" href=#json-Codec.driver title="Codec.driver (JSON member) — Driver identifier"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver</span></code></a> property that identifies the driver. All other properties are driver-specific. Refer to the driver documentation for the supported codec drivers and the driver-specific properties.</p> <p class=rubric>Subtypes</p> <ul class=simple> <li><p><a class="reference internal" href=driver/n5/index.html#json-driver/n5/Codec title="driver/n5/Codec (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/n5/Codec</span></code></a></p></li> <li><p><a class="reference internal" href=driver/neuroglancer_precomputed/index.html#json-driver/neuroglancer_precomputed/Codec title="driver/neuroglancer_precomputed/Codec (JSON type) — Neuroglancer Precomputed Codec"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/neuroglancer_precomputed/Codec</span></code></a> — Neuroglancer Precomputed Codec</p></li> <li><p><a class="reference internal" href=driver/zarr/index.html#json-driver/zarr/Codec title="driver/zarr/Codec (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr/Codec</span></code></a></p></li> </ul> <p class=rubric>Required members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Codec.driver> <span class="sig-name descname"><span class=pre>driver</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><a class=headerlink href=#json-Codec.driver title="Permalink to this definition">¶</a></dt> <dd><span><p>Driver identifier</p> </span><p>Specifies the <a class="reference internal" href=driver/index.html#tensorstore-drivers><span class="std std-ref">TensorStore driver</span></a> to which this codec is applicable.</p> </dd></dl> <div class="example admonition"> <p class=admonition-title>Example</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span>
  <span class=nt>&quot;driver&quot;</span><span class=p>:</span> <span class=s2>&quot;zarr&quot;</span><span class=p>,</span>
  <span class=nt>&quot;compressor&quot;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span> <span class=s2>&quot;blosc&quot;</span><span class=p>,</span> <span class=nt>&quot;cname&quot;</span><span class=p>:</span> <span class=s2>&quot;lz4&quot;</span><span class=p>,</span> <span class=nt>&quot;clevel&quot;</span><span class=p>:</span> <span class=kc>null</span><span class=p>,</span> <span class=nt>&quot;5&quot;</span><span class=p>:</span> <span class=kc>null</span><span class=p>,</span> <span class=nt>&quot;shuffle&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span>
  <span class=nt>&quot;filters&quot;</span><span class=p>:</span> <span class=kc>null</span>
<span class=p>}</span>
</code></pre></div> </div> </div> <div class="example admonition"> <p class=admonition-title>Example</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span>
  <span class=nt>&quot;driver&quot;</span><span class=p>:</span> <span class=s2>&quot;n5&quot;</span><span class=p>,</span>
  <span class=nt>&quot;compression&quot;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;gzip&quot;</span><span class=p>,</span> <span class=nt>&quot;level&quot;</span><span class=p>:</span> <span class=s2>&quot;6&quot;</span><span class=p>,</span> <span class=nt>&quot;useZlib&quot;</span><span class=p>:</span> <span class=kc>false</span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> </div> </div> </dd></dl> <h2 id=dimension-units>Dimension units<a class=headerlink href=#dimension-units title="Permalink to this headline">¶</a></h2> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-Unit> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>Unit</span></span><span class=p> <span class=pre>:</span> </span><span class=p><span class=pre>[</span></span><span class=desctype><span class=pre>number</span></span><span class=p><span class=pre>,</span></span> <span class=desctype><span class=pre>string</span></span><span class=p><span class=pre>]</span></span><span class=p> <span class=pre>|</span> </span><span class=desctype><span class=pre>string</span></span><span class=p> <span class=pre>|</span> </span><span class=desctype><span class=pre>number</span></span><a class=headerlink href=#json-Unit title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies a physical quantity/unit.</p> </span><p>The quantity is specified as the combination of:</p> <ul class=simple> <li><p>A numerical <code class="docutils literal notranslate"><span class=pre>multiplier</span></code>, represented as a <a class="reference external" href=https://en.wikipedia.org/wiki/Double-precision_floating-point_format>double-precision floating-point number</a>. A multiplier of <code class="docutils literal notranslate"><span class=pre>1</span></code> may be used to indicate a quanity equal to a single base unit.</p></li> <li><p>A <code class="docutils literal notranslate"><span class=pre>base_unit</span></code>, represented as a string. An empty string may be used to indicate a dimensionless quantity. In general, TensorStore does not interpret the base unit string; some drivers impose additional constraints on the base unit, while other drivers may store the specified unit directly. It is recommended to follow the <a class="reference external" href=https://www.unidata.ucar.edu/software/udunits/udunits-2.0.4/udunits2lib.html#Syntax>udunits2 syntax</a> unless there is a specific need to deviate.</p></li> </ul> <p>Three JSON formats are supported:</p> <ul class=simple> <li><p>The canonical format, as a two-element <code class="docutils literal notranslate"><span class=pre>[multiplier,</span> <span class=pre>base_unit]</span></code> array. This format is always used by TensorStore when returning the JSON representation of a unit.</p></li> <li><p>A single string. If the string contains a leading number, it is parsed as the <code class="docutils literal notranslate"><span class=pre>multiplier</span></code> and the remaining portion, after stripping leading and trailing whitespace, is used as the <code class="docutils literal notranslate"><span class=pre>base_unit</span></code>. If there is no leading number, the <code class="docutils literal notranslate"><span class=pre>multiplier</span></code> is 1 and the entire string, after stripping leading and trailing whitespace, is used as the <code class="docutils literal notranslate"><span class=pre>base_unit</span></code>.</p></li> <li><p>A single number, to indicate a dimension-less unit with the specified multiplier.</p></li> </ul> <div class="admonition-example-class-example admonition"> <p class=admonition-title>Example class: example</p> <ul class=simple> <li><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;4.5e-9m&quot;</span></code>, <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;4.5e-9 m&quot;</span></code>, and <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mf>4.5e-9</span><span class=p>,</span> <span class=s2>&quot;m&quot;</span><span class=p>]</span></code> are all equivalent.</p></li> <li><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;1nm&quot;</span></code>, <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;nm&quot;</span></code>, and <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;nm&quot;</span><span class=p>]</span></code> are all equivalent.</p></li> <li><p><code class="code highlight json docutils literal highlight-json"><span class=mi>5</span></code>, <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;5&quot;</span></code>, and <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>]</span></code> are all equivalent.</p></li> </ul> </div> </dd></dl> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-up width=24 height=24 viewbox="0 0 24 24"><path d=M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z /></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=index_space.html class="md-footer__link md-footer__link--prev" aria-label="Previous: Index space" rel=prev> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Index space </div> </div> </a> <a href=context.html class="md-footer__link md-footer__link--next" aria-label="Next: Context framework" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Context framework </div> </div> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-right width=24 height=24 viewbox="0 0 24 24"><path d=M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z /></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": ".", "features": ["navigation.expand", "navigation.sections", "navigation.top"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script> <script src=_static/javascripts/bundle.js></script> <script data-url_root=./ id=documentation_options src=_static/documentation_options.js></script> </body> </html>