<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../../_static/logo.svg><title>tensorstore.open - TensorStore</title><link rel=stylesheet href=../../_static/stylesheets/main.css><link rel=stylesheet href=../../_static/stylesheets/palette.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>
          :root {
            --md-text-font-family: "Roboto";
            --md-code-font-family: "Roboto Mono";
          }
        </style></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue> <script>

  /* Prepend the base path to the given key to ensure uniqueness */
  function __prefix(key) {
    var prefix = new URL("../..", location)
    return prefix.pathname + "." + key
  }

  /* Fetch the given key from the given storage */
  function __get(key, storage = localStorage) {
    return JSON.parse(storage.getItem(__prefix(key)))
  }
</script> <script>
  var palette = __get("__palette")
  if (palette !== null && typeof palette.color === "object")
    for (var key in palette.color)
      document.body.setAttribute("data-md-color-" + key, palette.color[key])
</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../index.html title=TensorStore class="md-header__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> <label class="md-header__button md-icon" for=__drawer> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-menu width=24 height=24 viewbox="0 0 24 24"><path d=M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z /></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> TensorStore </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> tensorstore.open </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb-outline width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-close width=24 height=24 viewbox="0 0 24 24"><path d=M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z /></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=TensorStore class="md-nav__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> TensorStore </label> <div class=md-nav__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1> <a class href=../tutorial.html>Python API</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Python API" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Python API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorial.html class=md-nav__link> Tutorial </a> </li> <li class=md-nav__item> <a href=../indexing.html class=md-nav__link> Indexing </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_3 type=checkbox id=__nav_1_3 checked> <label class=md-nav__link for=__nav_1_3> <a class href=index.html>API reference</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="API reference" data-md-level=2> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> API reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_3_1 type=checkbox id=__nav_1_3_1 checked> <label class=md-nav__link for=__nav_1_3_1> <a class href=index.html#core>Core</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Core data-md-level=3> <label class=md-nav__title for=__nav_1_3_1> <span class="md-nav__icon md-icon"></span> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=tensorstore.TensorStore.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.TensorStore (Python class) — Asynchronous multi-dimensional array handle.">TensorStore</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.Context.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.Context (Python class) — Manages shared TensorStore context resources, such as caches and credentials.">Context</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.KvStore.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.KvStore (Python class) — Key-value store that maps an ordered set of byte string keys to byte string values.">KvStore</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.Transaction.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.Transaction (Python class) — Transactions are used to stage a group of modifications (e.g. writes to
tensorstore.TensorStore objects) in memory, and then either commit the
group all at once or abort it.">Transaction</span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span aria-label="Python function" class="objinfo-icon objinfo-icon__procedure" title="Python function">F</span><span title="tensorstore.open (Python function) — Opens or creates a TensorStore from a Spec.">open</span> <span class="md-nav__icon md-icon"></span> </label> <a href class="md-nav__link md-nav__link--active"> <span aria-label="Python function" class="objinfo-icon objinfo-icon__procedure" title="Python function">F</span><span title="tensorstore.open (Python function) — Opens or creates a TensorStore from a Spec.">open</span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> <span aria-label="Python function" class="objinfo-icon objinfo-icon__procedure" title="Python function">F</span><span title="tensorstore.open (Python function) — Opens or creates a TensorStore from a Spec.">open</span> </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#parameters class=md-nav__link> Parameters </a> <nav class=md-nav aria-label=Parameters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#p-spec class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.spec (Python parameter) — TensorStore Spec to open.">spec</span> </a> </li> <li class=md-nav__item> <a href=#p-read class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.read (Python parameter) — Allow read access.">read</span> </a> </li> <li class=md-nav__item> <a href=#p-write class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.write (Python parameter) — Allow write access.">write</span> </a> </li> <li class=md-nav__item> <a href=#p-open class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.open (Python parameter) — Allow opening an existing TensorStore.">open</span> </a> </li> <li class=md-nav__item> <a href=#p-create class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.create (Python parameter) — Allow creating a new TensorStore.">create</span> </a> </li> <li class=md-nav__item> <a href=#p-delete_existing class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.delete_existing (Python parameter) — Delete any existing data before creating a new array.">delete_existing</span> </a> </li> <li class=md-nav__item> <a href=#p-assume_metadata class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.assume_metadata (Python parameter) — Skip reading the metadata if possible.">assume_metadata</span> </a> </li> <li class=md-nav__item> <a href=#p-context class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.context (Python parameter) — Shared resource context.">context</span> </a> </li> <li class=md-nav__item> <a href=#p-transaction class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.transaction (Python parameter) — Transaction to use for opening/creating, and for subsequent operations.">transaction</span> </a> </li> <li class=md-nav__item> <a href=#p-kvstore class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.kvstore (Python parameter) — Sets the associated key-value store used as the underlying storage.">kvstore</span> </a> </li> <li class=md-nav__item> <a href=#p-rank class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.rank (Python parameter) — Constrains the rank of the TensorStore.">rank</span> </a> </li> <li class=md-nav__item> <a href=#p-dtype class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.dtype (Python parameter) — Constrains the data type of the TensorStore.">dtype</span> </a> </li> <li class=md-nav__item> <a href=#p-domain class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.domain (Python parameter) — Constrains the domain of the TensorStore.">domain</span> </a> </li> <li class=md-nav__item> <a href=#p-shape class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.shape (Python parameter) — Constrains the shape and origin of the TensorStore.">shape</span> </a> </li> <li class=md-nav__item> <a href=#p-chunk_layout class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.chunk_layout (Python parameter) — Constrains the chunk layout.">chunk_layout</span> </a> </li> <li class=md-nav__item> <a href=#p-codec class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.codec (Python parameter) — Constrains the codec.">codec</span> </a> </li> <li class=md-nav__item> <a href=#p-fill_value class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.fill_value (Python parameter) — Specifies the fill value for positions that have not been written.">fill_value</span> </a> </li> <li class=md-nav__item> <a href=#p-dimension_units class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.dimension_units (Python parameter) — Specifies the physical units of each dimension of the domain.">dimension_units</span> </a> </li> <li class=md-nav__item> <a href=#p-schema class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.schema (Python parameter) — Additional schema constraints to merge with existing constraints.">schema</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> Examples </a> <nav class=md-nav aria-label=Examples> <ul class=md-nav__list> <li class=md-nav__item> <a href=#opening-an-existing-tensorstore class=md-nav__link> Opening an existing TensorStore </a> </li> <li class=md-nav__item> <a href=#creating-a-new-tensorstore class=md-nav__link> Creating a new TensorStore </a> </li> <li class=md-nav__item> <a href=#using-assume-metadata-for-improved-concurrent-open-efficiency class=md-nav__link> Using assume_metadata for improved concurrent open efficiency </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=index.html#indexing class=md-nav__link> Indexing </a> </li> <li class=md-nav__item> <a href=index.html#spec class=md-nav__link> Spec </a> </li> <li class=md-nav__item> <a href=index.html#views class=md-nav__link> Views </a> </li> <li class=md-nav__item> <a href=index.html#data-types class=md-nav__link> Data types </a> </li> <li class=md-nav__item> <a href=index.html#asynchronous-support class=md-nav__link> Asynchronous support </a> </li> <li class=md-nav__item> <a href=index.html#virtual-views class=md-nav__link> Virtual views </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 data-md-state=indeterminate type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> <a class href=../../installation.html>Setup</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation.html class=md-nav__link> Building and Installing </a> </li> <li class=md-nav__item> <a href=../../environment.html class=md-nav__link> Environment variables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 data-md-state=indeterminate type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> <a class href=../../spec.html>JSON</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=JSON data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> JSON </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../spec.html class=md-nav__link> JSON Spec </a> </li> <li class=md-nav__item> <a href=../../index_space.html class=md-nav__link> Index space </a> </li> <li class=md-nav__item> <a href=../../schema.html class=md-nav__link> Schema </a> </li> <li class=md-nav__item> <a href=../../context.html class=md-nav__link> Context framework </a> </li> <li class=md-nav__item> <a href=../../driver/index.html class=md-nav__link> Drivers </a> </li> <li class=md-nav__item> <a href=../../kvstore/index.html class=md-nav__link> Key-Value Storage Layer </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> <span aria-label="Python function" class="objinfo-icon objinfo-icon__procedure" title="Python function">F</span><span title="tensorstore.open (Python function) — Opens or creates a TensorStore from a Spec.">open</span> </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#parameters class=md-nav__link> Parameters </a> <nav class=md-nav aria-label=Parameters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#p-spec class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.spec (Python parameter) — TensorStore Spec to open.">spec</span> </a> </li> <li class=md-nav__item> <a href=#p-read class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.read (Python parameter) — Allow read access.">read</span> </a> </li> <li class=md-nav__item> <a href=#p-write class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.write (Python parameter) — Allow write access.">write</span> </a> </li> <li class=md-nav__item> <a href=#p-open class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.open (Python parameter) — Allow opening an existing TensorStore.">open</span> </a> </li> <li class=md-nav__item> <a href=#p-create class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.create (Python parameter) — Allow creating a new TensorStore.">create</span> </a> </li> <li class=md-nav__item> <a href=#p-delete_existing class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.delete_existing (Python parameter) — Delete any existing data before creating a new array.">delete_existing</span> </a> </li> <li class=md-nav__item> <a href=#p-assume_metadata class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.assume_metadata (Python parameter) — Skip reading the metadata if possible.">assume_metadata</span> </a> </li> <li class=md-nav__item> <a href=#p-context class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.context (Python parameter) — Shared resource context.">context</span> </a> </li> <li class=md-nav__item> <a href=#p-transaction class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.transaction (Python parameter) — Transaction to use for opening/creating, and for subsequent operations.">transaction</span> </a> </li> <li class=md-nav__item> <a href=#p-kvstore class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.kvstore (Python parameter) — Sets the associated key-value store used as the underlying storage.">kvstore</span> </a> </li> <li class=md-nav__item> <a href=#p-rank class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.rank (Python parameter) — Constrains the rank of the TensorStore.">rank</span> </a> </li> <li class=md-nav__item> <a href=#p-dtype class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.dtype (Python parameter) — Constrains the data type of the TensorStore.">dtype</span> </a> </li> <li class=md-nav__item> <a href=#p-domain class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.domain (Python parameter) — Constrains the domain of the TensorStore.">domain</span> </a> </li> <li class=md-nav__item> <a href=#p-shape class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.shape (Python parameter) — Constrains the shape and origin of the TensorStore.">shape</span> </a> </li> <li class=md-nav__item> <a href=#p-chunk_layout class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.chunk_layout (Python parameter) — Constrains the chunk layout.">chunk_layout</span> </a> </li> <li class=md-nav__item> <a href=#p-codec class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.codec (Python parameter) — Constrains the codec.">codec</span> </a> </li> <li class=md-nav__item> <a href=#p-fill_value class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.fill_value (Python parameter) — Specifies the fill value for positions that have not been written.">fill_value</span> </a> </li> <li class=md-nav__item> <a href=#p-dimension_units class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.dimension_units (Python parameter) — Specifies the physical units of each dimension of the domain.">dimension_units</span> </a> </li> <li class=md-nav__item> <a href=#p-schema class=md-nav__link> <span aria-label="Python parameter" class="objinfo-icon objinfo-icon__sub-data" title="Python parameter">p</span><span title="tensorstore.open.schema (Python parameter) — Additional schema constraints to merge with existing constraints.">schema</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> Examples </a> <nav class=md-nav aria-label=Examples> <ul class=md-nav__list> <li class=md-nav__item> <a href=#opening-an-existing-tensorstore class=md-nav__link> Opening an existing TensorStore </a> </li> <li class=md-nav__item> <a href=#creating-a-new-tensorstore class=md-nav__link> Creating a new TensorStore </a> </li> <li class=md-nav__item> <a href=#using-assume-metadata-for-improved-concurrent-open-efficiency class=md-nav__link> Using assume_metadata for improved concurrent open efficiency </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset" role=main> <dl class="py function objdesc"> <dt class="sig sig-object py sig-wrap"> <em class=property> </em><span class="sig-prename descclassname"><span class=pre>tensorstore.</span></span><span class="sig-name descname"><span class=pre>open</span></span><span class=sig-paren>(</span><em class=sig-param><a class="reference internal" href=#p-spec title="tensorstore.open.spec (Python parameter) — TensorStore Spec to open."><span class=n><span class=pre>spec</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.Spec.html title="tensorstore.Spec (Python class) — Specification for opening or creating a TensorStore."><span class=pre>Spec</span></a> <span class=p><span class=pre>|</span></span> <a class="reference external" href=https://docs.python.org/3/library/typing.html#typing.Any title="(in Python v3.9)"><span class=pre>Any</span></a></span></span></em>, <em class=sig-param><span class=o><span class=pre>*</span></span></em>, <em class=sig-param><a class="reference internal" href=#p-read title="tensorstore.open.read (Python parameter) — Allow read access."><span class=n><span class=pre>read</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/functions.html#bool title="(in Python v3.9)"><span class=pre>bool</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-write title="tensorstore.open.write (Python parameter) — Allow write access."><span class=n><span class=pre>write</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/functions.html#bool title="(in Python v3.9)"><span class=pre>bool</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-open title="tensorstore.open.open (Python parameter) — Allow opening an existing TensorStore."><span class=n><span class=pre>open</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/functions.html#bool title="(in Python v3.9)"><span class=pre>bool</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-create title="tensorstore.open.create (Python parameter) — Allow creating a new TensorStore."><span class=n><span class=pre>create</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/functions.html#bool title="(in Python v3.9)"><span class=pre>bool</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-delete_existing title="tensorstore.open.delete_existing (Python parameter) — Delete any existing data before creating a new array."><span class=n><span class=pre>delete_existing</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/functions.html#bool title="(in Python v3.9)"><span class=pre>bool</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-assume_metadata title="tensorstore.open.assume_metadata (Python parameter) — Skip reading the metadata if possible."><span class=n><span class=pre>assume_metadata</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/functions.html#bool title="(in Python v3.9)"><span class=pre>bool</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-context title="tensorstore.open.context (Python parameter) — Shared resource context."><span class=n><span class=pre>context</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.Context.html title="tensorstore.Context (Python class) — Manages shared TensorStore context resources, such as caches and credentials."><span class=pre>Context</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-transaction title="tensorstore.open.transaction (Python parameter) — Transaction to use for opening/creating, and for subsequent operations."><span class=n><span class=pre>transaction</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.Transaction.html title="tensorstore.Transaction (Python class) — Transactions are used to stage a group of modifications (e.g. writes to tensorstore.TensorStore objects) in memory, and then either commit the group all at once or abort it."><span class=pre>Transaction</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-kvstore title="tensorstore.open.kvstore (Python parameter) — Sets the associated key-value store used as the underlying storage."><span class=n><span class=pre>kvstore</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.KvStore.Spec.html title="tensorstore.KvStore.Spec (Python class) — Parsed representation of a JSON key-value store specification."><span class=pre>KvStore.Spec</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-rank title="tensorstore.open.rank (Python parameter) — Constrains the rank of the TensorStore."><span class=n><span class=pre>rank</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/functions.html#int title="(in Python v3.9)"><span class=pre>int</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-dtype title="tensorstore.open.dtype (Python parameter) — Constrains the data type of the TensorStore."><span class=n><span class=pre>dtype</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.dtype.html title="tensorstore.dtype (Python class) — TensorStore data type representation."><span class=pre>dtype</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-domain title="tensorstore.open.domain (Python parameter) — Constrains the domain of the TensorStore."><span class=n><span class=pre>domain</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.IndexDomain.html title="tensorstore.IndexDomain (Python class) — Domain (including bounds and optional dimension labels) of an N-dimensional index space."><span class=pre>IndexDomain</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-shape title="tensorstore.open.shape (Python parameter) — Constrains the shape and origin of the TensorStore."><span class=n><span class=pre>shape</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/typing.html#typing.Sequence title="(in Python v3.9)"><span class=pre>Sequence</span></a><span class=p><span class=pre>[</span></span><a class="reference external" href=https://docs.python.org/3/library/functions.html#int title="(in Python v3.9)"><span class=pre>int</span></a><span class=p><span class=pre>]</span></span> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-chunk_layout title="tensorstore.open.chunk_layout (Python parameter) — Constrains the chunk layout."><span class=n><span class=pre>chunk_layout</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.ChunkLayout.html title="tensorstore.ChunkLayout (Python class) — Describes the storage layout of a tensorstore.TensorStore."><span class=pre>ChunkLayout</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-codec title="tensorstore.open.codec (Python parameter) — Constrains the codec."><span class=n><span class=pre>codec</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.CodecSpec.html title="tensorstore.CodecSpec (Python class) — Specifies driver-specific encoding/decoding parameters."><span class=pre>CodecSpec</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-fill_value title="tensorstore.open.fill_value (Python parameter) — Specifies the fill value for positions that have not been written."><span class=n><span class=pre>fill_value</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://numpy.org/doc/stable/glossary.html#term-array-like title="(in NumPy v1.19)"><span class=pre>array_like</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-dimension_units title="tensorstore.open.dimension_units (Python parameter) — Specifies the physical units of each dimension of the domain."><span class=n><span class=pre>dimension_units</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/typing.html#typing.Sequence title="(in Python v3.9)"><span class=pre>Sequence</span></a><span class=p><span class=pre>[</span></span><a class="reference internal" href=tensorstore.Unit.html title="tensorstore.Unit (Python class) — Specifies a physical quantity/unit."><span class=pre>Unit</span></a> <span class=p><span class=pre>|</span></span> <a class="reference external" href=https://docs.python.org/3/library/stdtypes.html#str title="(in Python v3.9)"><span class=pre>str</span></a> <span class=p><span class=pre>|</span></span> <a class="reference external" href=https://docs.python.org/3/library/numbers.html#numbers.Real title="(in Python v3.9)"><span class=pre>Real</span></a> <span class=p><span class=pre>|</span></span> <a class="reference external" href=https://docs.python.org/3/library/typing.html#typing.Tuple title="(in Python v3.9)"><span class=pre>Tuple</span></a><span class=p><span class=pre>[</span></span><a class="reference external" href=https://docs.python.org/3/library/numbers.html#numbers.Real title="(in Python v3.9)"><span class=pre>Real</span></a><span class=p><span class=pre>,</span> </span><a class="reference external" href=https://docs.python.org/3/library/stdtypes.html#str title="(in Python v3.9)"><span class=pre>str</span></a><span class=p><span class=pre>]</span></span> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code><span class=p><span class=pre>]</span></span> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em>, <em class=sig-param><a class="reference internal" href=#p-schema title="tensorstore.open.schema (Python parameter) — Additional schema constraints to merge with existing constraints."><span class=n><span class=pre>schema</span></span></a><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=tensorstore.Schema.html title="tensorstore.Schema (Python class) — Driver-independent options for defining a TensorStore schema."><span class=pre>Schema</span></a> <span class=p><span class=pre>|</span></span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span> <span class=o><span class=pre>=</span></span> <code class="code python default_value docutils literal highlight highlight-python"><span class=kc>None</span></code></em><span class=sig-paren>)</span> <span class=sig-return><span class=sig-return-icon>&#x2192;</span> <span class=sig-return-typehint><span class=desctype><a class="reference internal" href=tensorstore.Future.html title="tensorstore.Future (Python class) — Handle for consuming the result of an asynchronous operation."><span class=pre>Future</span></a><span class=p><span class=pre>[</span></span><a class="reference internal" href=tensorstore.TensorStore.html title="tensorstore.TensorStore (Python class) — Asynchronous multi-dimensional array handle."><span class=pre>TensorStore</span></a><span class=p><span class=pre>]</span></span></span></span></span></dt> <dd><p>Opens or creates a <a class="reference internal" href=tensorstore.TensorStore.html title="tensorstore.TensorStore (Python class) — Asynchronous multi-dimensional array handle."><code class="xref py py-class docutils literal notranslate"><span class=pre>TensorStore</span></code></a> from a <a class="reference internal" href=tensorstore.Spec.html title="tensorstore.Spec (Python class) — Specification for opening or creating a TensorStore."><code class="xref py py-class docutils literal notranslate"><span class=pre>Spec</span></code></a>.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>store</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>            <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>        <span class=p>}</span>
<span class=gp>... </span>    <span class=p>},</span>
<span class=gp>... </span>    <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>int32</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>],</span>
<span class=gp>... </span>    <span class=n>chunk_layout</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>ChunkLayout</span><span class=p>(</span><span class=n>inner_order</span><span class=o>=</span><span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>]),</span>
<span class=gp>... </span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;context&#39;: {</span>
<span class=go>    &#39;cache_pool&#39;: {},</span>
<span class=go>    &#39;data_copy_concurrency&#39;: {},</span>
<span class=go>    &#39;memory_key_value_store&#39;: {},</span>
<span class=go>  },</span>
<span class=go>  &#39;driver&#39;: &#39;zarr&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;int32&#39;,</span>
<span class=go>  &#39;kvstore&#39;: {&#39;driver&#39;: &#39;memory&#39;},</span>
<span class=go>  &#39;metadata&#39;: {</span>
<span class=go>    &#39;chunks&#39;: [102, 102, 102],</span>
<span class=go>    &#39;compressor&#39;: {</span>
<span class=go>      &#39;blocksize&#39;: 0,</span>
<span class=go>      &#39;clevel&#39;: 5,</span>
<span class=go>      &#39;cname&#39;: &#39;lz4&#39;,</span>
<span class=go>      &#39;id&#39;: &#39;blosc&#39;,</span>
<span class=go>      &#39;shuffle&#39;: -1,</span>
<span class=go>    },</span>
<span class=go>    &#39;dimension_separator&#39;: &#39;.&#39;,</span>
<span class=go>    &#39;dtype&#39;: &#39;&lt;i4&#39;,</span>
<span class=go>    &#39;fill_value&#39;: None,</span>
<span class=go>    &#39;filters&#39;: None,</span>
<span class=go>    &#39;order&#39;: &#39;F&#39;,</span>
<span class=go>    &#39;shape&#39;: [1000, 2000, 3000],</span>
<span class=go>    &#39;zarr_format&#39;: 2,</span>
<span class=go>  },</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [[1000], [2000], [3000]],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0, 0],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <dl class="field-list simple"> <dt class=field-odd id=parameters>Parameters<a class=headerlink href=#parameters title="Permalink to this headline">¶</a></dt> <dd class=field-odd><dl class="api-field simple"> <dt id=p-spec><span class="sig-name descname">spec</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.Spec.html title="tensorstore.Spec (Python class) — Specification for opening or creating a TensorStore.">Spec</a> <span class=p>|</span> <a class="reference external" href=https://docs.python.org/3/library/typing.html#typing.Any title="(in Python v3.9)">Any</a></span></span><a class=headerlink href=#p-spec title="Permalink to this definition">¶</a></dt><dd><p>TensorStore Spec to open. May also be specified as <a class="reference internal" href=../../spec.html#json-TensorStore title="TensorStore (JSON type) — Specifies a TensorStore to open/create."><code class="xref json json-schema docutils literal notranslate"><span class=pre>JSON</span></code></a>.</p> </dd> <dt id=p-read><span class="sig-name descname">read</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_.">bool</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-read title="Permalink to this definition">¶</a></dt><dd><p>Allow read access. Defaults to <a class="reference external" href=https://docs.python.org/3/library/constants.html#True title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>True</span></code></a> if neither <code class="docutils literal notranslate"><span class=pre>read</span></code> nor <code class="docutils literal notranslate"><span class=pre>write</span></code> is specified.</p> </dd> <dt id=p-write><span class="sig-name descname">write</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_.">bool</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-write title="Permalink to this definition">¶</a></dt><dd><p>Allow write access. Defaults to <a class="reference external" href=https://docs.python.org/3/library/constants.html#True title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>True</span></code></a> if neither <code class="docutils literal notranslate"><span class=pre>read</span></code> nor <code class="docutils literal notranslate"><span class=pre>write</span></code> is specified.</p> </dd> <dt id=p-open><span class="sig-name descname">open</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_.">bool</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-open title="Permalink to this definition">¶</a></dt><dd><p>Allow opening an existing TensorStore. Overrides the existing open mode.</p> </dd> <dt id=p-create><span class="sig-name descname">create</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_.">bool</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-create title="Permalink to this definition">¶</a></dt><dd><p>Allow creating a new TensorStore. Overrides the existing open mode. To open or create, specify <code class="code highlight python docutils literal highlight-python"><span class=n>create</span><span class=o>=</span><span class=kc>True</span></code> and <code class="code highlight python docutils literal highlight-python"><span class=nb>open</span><span class=o>=</span><span class=kc>True</span></code>.</p> </dd> <dt id=p-delete_existing><span class="sig-name descname">delete_existing</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_.">bool</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-delete_existing title="Permalink to this definition">¶</a></dt><dd><p>Delete any existing data before creating a new array. Overrides the existing open mode. Must be specified in conjunction with <code class="code highlight python docutils literal highlight-python"><span class=n>create</span><span class=o>=</span><span class=kc>True</span></code>.</p> </dd> <dt id=p-assume_metadata><span class="sig-name descname">assume_metadata</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_.">bool</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-assume_metadata title="Permalink to this definition">¶</a></dt><dd><p><p>Skip reading the metadata if possible. Instead, just assume any necessary metadata based on constraints in the spec, using the same defaults for any unspecified metadata as when creating a new TensorStore. Overrides the existing open mode. Requires that <a class="reference internal" href=#p-open title="tensorstore.open.open (Python parameter) — Allow opening an existing TensorStore."><code class="xref py py-param docutils literal notranslate"><span class=pre>open</span></code></a> is <a class="reference external" href=https://docs.python.org/3/library/constants.html#True title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>True</span></code></a> and <a class="reference internal" href=#p-delete_existing title="tensorstore.open.delete_existing (Python parameter) — Delete any existing data before creating a new array."><code class="xref py py-param docutils literal notranslate"><span class=pre>delete_existing</span></code></a> is <a class="reference external" href=https://docs.python.org/3/library/constants.html#False title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>False</span></code></a>.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This option can lead to data corruption if the assumed metadata does not match the stored metadata, or multiple concurrent writers use different assumed metadata.</p> </div> </p> </dd> <dt id=p-context><span class="sig-name descname">context</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.Context.html title="tensorstore.Context (Python class) — Manages shared TensorStore context resources, such as caches and credentials.">Context</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-context title="Permalink to this definition">¶</a></dt><dd><p>Shared resource context. Defaults to a new (unshared) context with default options, as returned by <a class="reference internal" href=tensorstore.Context.html title="tensorstore.Context (Python class) — Manages shared TensorStore context resources, such as caches and credentials."><code class="xref py py-meth docutils literal notranslate"><span class=pre>tensorstore.Context()</span></code></a>. To share resources, such as cache pools, between multiple open TensorStores, you must specify a context.</p> </dd> <dt id=p-transaction><span class="sig-name descname">transaction</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.Transaction.html title="tensorstore.Transaction (Python class) — Transactions are used to stage a group of modifications (e.g. writes to tensorstore.TensorStore objects) in memory, and then either commit the group all at once or abort it.">Transaction</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-transaction title="Permalink to this definition">¶</a></dt><dd><p><p>Transaction to use for opening/creating, and for subsequent operations. By default, the open is non-transactional.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>To perform transactional operations using a <a class="reference internal" href=tensorstore.TensorStore.html title="tensorstore.TensorStore (Python class) — Asynchronous multi-dimensional array handle."><code class="xref py py-obj docutils literal notranslate"><span class=pre>TensorStore</span></code></a> that was previously opened without a transaction, use <a class="reference internal" href=tensorstore.TensorStore.with_transaction.html title="tensorstore.TensorStore.with_transaction (Python method) — Returns a transaction-bound view of this TensorStore."><code class="xref py py-obj docutils literal notranslate"><span class=pre>TensorStore.with_transaction</span></code></a>.</p> </div> </p> </dd> <dt id=p-kvstore><span class="sig-name descname">kvstore</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.KvStore.Spec.html title="tensorstore.KvStore.Spec (Python class) — Parsed representation of a JSON key-value store specification.">KvStore.Spec</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-kvstore title="Permalink to this definition">¶</a></dt><dd><p><p>Sets the associated key-value store used as the underlying storage.</p> <p>If the <a class="reference internal" href=tensorstore.Spec.kvstore.html title="tensorstore.Spec.kvstore (Python property) — Spec of the associated key-value store used as the underlying storage."><code class="xref py py-obj docutils literal notranslate"><span class=pre>kvstore</span></code></a> has already been set, it is overridden.</p> <p>It is an error to specify this if the TensorStore driver does not use a key-value store.</p> </p> </dd> <dt id=p-rank><span class="sig-name descname">rank</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/functions.html#int title="(in Python v3.9)">int</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-rank title="Permalink to this definition">¶</a></dt><dd><p>Constrains the rank of the TensorStore. If there is an index transform, the rank constraint must match the rank of the <em>input</em> space.</p> </dd> <dt id=p-dtype><span class="sig-name descname">dtype</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.dtype.html title="tensorstore.dtype (Python class) — TensorStore data type representation.">dtype</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-dtype title="Permalink to this definition">¶</a></dt><dd><p>Constrains the data type of the TensorStore. If a data type has already been set, it is an error to specify a different data type.</p> </dd> <dt id=p-domain><span class="sig-name descname">domain</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.IndexDomain.html title="tensorstore.IndexDomain (Python class) — Domain (including bounds and optional dimension labels) of an N-dimensional index space.">IndexDomain</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-domain title="Permalink to this definition">¶</a></dt><dd><p><p>Constrains the domain of the TensorStore. If there is an existing domain, the specified domain is merged with it as follows:</p> <ol class="arabic simple"> <li><p>The rank must match the existing rank.</p></li> <li><p>All bounds must match, except that a finite or explicit bound is permitted to match an infinite and implicit bound, and takes precedence.</p></li> <li><p>If both the new and existing domain specify non-empty labels for a dimension, the labels must be equal. If only one of the domains specifies a non-empty label for a dimension, the non-empty label takes precedence.</p></li> </ol> <p>Note that if there is an index transform, the domain must match the <em>input</em> space, not the output space.</p> </p> </dd> <dt id=p-shape><span class="sig-name descname">shape</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/typing.html#typing.Sequence title="(in Python v3.9)">Sequence</a><span class=p>[</span><a class="reference external" href=https://docs.python.org/3/library/functions.html#int title="(in Python v3.9)">int</a><span class=p>]</span> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-shape title="Permalink to this definition">¶</a></dt><dd><p><p>Constrains the shape and origin of the TensorStore. Equivalent to specifying a <a class="reference internal" href=#p-domain title="tensorstore.open.domain (Python parameter) — Constrains the domain of the TensorStore."><code class="xref py py-param docutils literal notranslate"><span class=pre>domain</span></code></a> of <code class="code highlight python docutils literal highlight-python"><span class=n>ts</span><span class=o>.</span><span class=n>IndexDomain</span><span class=p>(</span><span class=n>shape</span><span class=o>=</span><span class=n>shape</span><span class=p>)</span></code>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This option also constrains the origin of all dimensions to be zero.</p> </div> </p> </dd> <dt id=p-chunk_layout><span class="sig-name descname">chunk_layout</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.ChunkLayout.html title="tensorstore.ChunkLayout (Python class) — Describes the storage layout of a tensorstore.TensorStore.">ChunkLayout</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-chunk_layout title="Permalink to this definition">¶</a></dt><dd><p>Constrains the chunk layout. If there is an existing chunk layout constraint, the constraints are merged. If the constraints are incompatible, an error is raised.</p> </dd> <dt id=p-codec><span class="sig-name descname">codec</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.CodecSpec.html title="tensorstore.CodecSpec (Python class) — Specifies driver-specific encoding/decoding parameters.">CodecSpec</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-codec title="Permalink to this definition">¶</a></dt><dd><p>Constrains the codec. If there is an existing codec constraint, the constraints are merged. If the constraints are incompatible, an error is raised.</p> </dd> <dt id=p-fill_value><span class="sig-name descname">fill_value</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference external" href=https://numpy.org/doc/stable/glossary.html#term-array-like title="(in NumPy v1.19)">array_like</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-fill_value title="Permalink to this definition">¶</a></dt><dd><p><p>Specifies the fill value for positions that have not been written.</p> <p>The fill value data type must be convertible to the actual data type, and the shape must be <a class="reference internal" href=../../index_space.html#index-domain-alignment><span class="std std-ref">broadcast-compatible</span></a> with the domain.</p> <p>If an existing fill value has already been set as a constraint, it is an error to specify a different fill value (where the comparison is done after normalization by broadcasting).</p> </p> </dd> <dt id=p-dimension_units><span class="sig-name descname">dimension_units</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference external" href=https://docs.python.org/3/library/typing.html#typing.Sequence title="(in Python v3.9)">Sequence</a><span class=p>[</span><a class="reference internal" href=tensorstore.Unit.html title="tensorstore.Unit (Python class) — Specifies a physical quantity/unit.">Unit</a> <span class=p>|</span> <a class="reference external" href=https://docs.python.org/3/library/stdtypes.html#str title="(in Python v3.9)">str</a> <span class=p>|</span> <a class="reference external" href=https://docs.python.org/3/library/numbers.html#numbers.Real title="(in Python v3.9)">Real</a> <span class=p>|</span> <a class="reference external" href=https://docs.python.org/3/library/typing.html#typing.Tuple title="(in Python v3.9)">Tuple</a><span class=p>[</span><a class="reference external" href=https://docs.python.org/3/library/numbers.html#numbers.Real title="(in Python v3.9)">Real</a><span class=p>, </span><a class="reference external" href=https://docs.python.org/3/library/stdtypes.html#str title="(in Python v3.9)">str</a><span class=p>]</span> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code><span class=p>]</span> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-dimension_units title="Permalink to this definition">¶</a></dt><dd><p><p>Specifies the physical units of each dimension of the domain.</p> <p>The <em>physical unit</em> for a dimension is the physical quantity corresponding to a single index increment along each dimension.</p> <p>A value of <code class="code highlight python docutils literal highlight-python"><span class=kc>None</span></code> indicates that the unit is unknown. A dimension-less quantity can be indicated by a unit of <code class="code highlight python docutils literal highlight-python"><span class=s2>&quot;&quot;</span></code>.</p> </p> </dd> <dt id=p-schema><span class="sig-name descname">schema</span><span class=p> : </span><span class=desctype><span class=desctype><a class="reference internal" href=tensorstore.Schema.html title="tensorstore.Schema (Python class) — Driver-independent options for defining a TensorStore schema.">Schema</a> <span class=p>|</span> <code class="code python docutils literal highlight highlight-python"><span class=kc>None</span></code></span></span><a class=headerlink href=#p-schema title="Permalink to this definition">¶</a></dt><dd><p>Additional schema constraints to merge with existing constraints.</p> </dd> </dl> </dd> </dl> <h2 id=examples>Examples<a class=headerlink href=#examples title="Permalink to this headline">¶</a></h2> <h3 id=opening-an-existing-tensorstore>Opening an existing TensorStore<a class=headerlink href=#opening-an-existing-tensorstore title="Permalink to this headline">¶</a></h3> <p>To open an existing TensorStore, you can use a <em>minimal</em> <a class="reference internal" href=tensorstore.Spec.html title="tensorstore.Spec (Python class) — Specification for opening or creating a TensorStore."><code class="xref py py-class docutils literal notranslate"><span class=pre>Spec</span></code></a> that specifies required driver-specific options, like the storage location. Information that can be determined automatically from the existing metadata, like the data type, domain, and chunk layout, may be omitted:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>store</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;neuroglancer_precomputed&#39;</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>            <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;gcs&#39;</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s1>&#39;bucket&#39;</span><span class=p>:</span> <span class=s1>&#39;neuroglancer-janelia-flyem-hemibrain&#39;</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s1>&#39;path&#39;</span><span class=p>:</span> <span class=s1>&#39;v1.2/segmentation/&#39;</span><span class=p>,</span>
<span class=gp>... </span>        <span class=p>},</span>
<span class=gp>... </span>    <span class=p>},</span>
<span class=gp>... </span>    <span class=n>read</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;context&#39;: {</span>
<span class=go>    &#39;cache_pool&#39;: {},</span>
<span class=go>    &#39;data_copy_concurrency&#39;: {},</span>
<span class=go>    &#39;gcs_request_concurrency&#39;: {},</span>
<span class=go>    &#39;gcs_request_retries&#39;: {},</span>
<span class=go>    &#39;gcs_user_project&#39;: {},</span>
<span class=go>  },</span>
<span class=go>  &#39;driver&#39;: &#39;neuroglancer_precomputed&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;uint64&#39;,</span>
<span class=go>  &#39;kvstore&#39;: {</span>
<span class=go>    &#39;bucket&#39;: &#39;neuroglancer-janelia-flyem-hemibrain&#39;,</span>
<span class=go>    &#39;driver&#39;: &#39;gcs&#39;,</span>
<span class=go>    &#39;path&#39;: &#39;v1.2/segmentation/&#39;,</span>
<span class=go>  },</span>
<span class=go>  &#39;multiscale_metadata&#39;: {&#39;num_channels&#39;: 1, &#39;type&#39;: &#39;segmentation&#39;},</span>
<span class=go>  &#39;scale_index&#39;: 0,</span>
<span class=go>  &#39;scale_metadata&#39;: {</span>
<span class=go>    &#39;chunk_size&#39;: [64, 64, 64],</span>
<span class=go>    &#39;compressed_segmentation_block_size&#39;: [8, 8, 8],</span>
<span class=go>    &#39;encoding&#39;: &#39;compressed_segmentation&#39;,</span>
<span class=go>    &#39;key&#39;: &#39;8.0x8.0x8.0&#39;,</span>
<span class=go>    &#39;resolution&#39;: [8.0, 8.0, 8.0],</span>
<span class=go>    &#39;sharding&#39;: {</span>
<span class=go>      &#39;@type&#39;: &#39;neuroglancer_uint64_sharded_v1&#39;,</span>
<span class=go>      &#39;data_encoding&#39;: &#39;gzip&#39;,</span>
<span class=go>      &#39;hash&#39;: &#39;identity&#39;,</span>
<span class=go>      &#39;minishard_bits&#39;: 6,</span>
<span class=go>      &#39;minishard_index_encoding&#39;: &#39;gzip&#39;,</span>
<span class=go>      &#39;preshift_bits&#39;: 9,</span>
<span class=go>      &#39;shard_bits&#39;: 15,</span>
<span class=go>    },</span>
<span class=go>    &#39;size&#39;: [34432, 39552, 41408],</span>
<span class=go>    &#39;voxel_offset&#39;: [0, 0, 0],</span>
<span class=go>  },</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [34432, 39552, 41408, 1],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0, 0, 0],</span>
<span class=go>    &#39;input_labels&#39;: [&#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;channel&#39;],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <h3 id=creating-a-new-tensorstore>Creating a new TensorStore<a class=headerlink href=#creating-a-new-tensorstore title="Permalink to this headline">¶</a></h3> <p>To create a new TensorStore, you must specify required driver-specific options, like the storage location, as well as <a class="reference internal" href=tensorstore.Schema.html title="tensorstore.Schema (Python class) — Driver-independent options for defining a TensorStore schema."><code class="xref py py-class docutils literal notranslate"><span class=pre>Schema</span></code></a> constraints like the data type and domain. Suitable defaults are chosen automatically for schema properties that are left unconstrained:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>store</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>            <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>        <span class=p>},</span>
<span class=gp>... </span>    <span class=p>},</span>
<span class=gp>... </span>    <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>float32</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>],</span>
<span class=gp>... </span>    <span class=n>fill_value</span><span class=o>=</span><span class=mi>42</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;context&#39;: {</span>
<span class=go>    &#39;cache_pool&#39;: {},</span>
<span class=go>    &#39;data_copy_concurrency&#39;: {},</span>
<span class=go>    &#39;memory_key_value_store&#39;: {},</span>
<span class=go>  },</span>
<span class=go>  &#39;driver&#39;: &#39;zarr&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;float32&#39;,</span>
<span class=go>  &#39;kvstore&#39;: {&#39;driver&#39;: &#39;memory&#39;},</span>
<span class=go>  &#39;metadata&#39;: {</span>
<span class=go>    &#39;chunks&#39;: [102, 102, 102],</span>
<span class=go>    &#39;compressor&#39;: {</span>
<span class=go>      &#39;blocksize&#39;: 0,</span>
<span class=go>      &#39;clevel&#39;: 5,</span>
<span class=go>      &#39;cname&#39;: &#39;lz4&#39;,</span>
<span class=go>      &#39;id&#39;: &#39;blosc&#39;,</span>
<span class=go>      &#39;shuffle&#39;: -1,</span>
<span class=go>    },</span>
<span class=go>    &#39;dimension_separator&#39;: &#39;.&#39;,</span>
<span class=go>    &#39;dtype&#39;: &#39;&lt;f4&#39;,</span>
<span class=go>    &#39;fill_value&#39;: 42.0,</span>
<span class=go>    &#39;filters&#39;: None,</span>
<span class=go>    &#39;order&#39;: &#39;C&#39;,</span>
<span class=go>    &#39;shape&#39;: [1000, 2000, 3000],</span>
<span class=go>    &#39;zarr_format&#39;: 2,</span>
<span class=go>  },</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [[1000], [2000], [3000]],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0, 0],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <p>Partial constraints may be specified on the chunk layout, and the driver will determine a matching chunk layout automatically:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>store</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>            <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>        <span class=p>},</span>
<span class=gp>... </span>    <span class=p>},</span>
<span class=gp>... </span>    <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>float32</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>],</span>
<span class=gp>... </span>    <span class=n>chunk_layout</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>ChunkLayout</span><span class=p>(</span>
<span class=gp>... </span>        <span class=n>chunk_shape</span><span class=o>=</span><span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>],</span>
<span class=gp>... </span>        <span class=n>chunk_aspect_ratio</span><span class=o>=</span><span class=p>[</span><span class=kc>None</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>        <span class=n>chunk_elements</span><span class=o>=</span><span class=mi>10000000</span><span class=p>,</span>
<span class=gp>... </span>    <span class=p>),</span>
<span class=gp>... </span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;context&#39;: {</span>
<span class=go>    &#39;cache_pool&#39;: {},</span>
<span class=go>    &#39;data_copy_concurrency&#39;: {},</span>
<span class=go>    &#39;memory_key_value_store&#39;: {},</span>
<span class=go>  },</span>
<span class=go>  &#39;driver&#39;: &#39;zarr&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;float32&#39;,</span>
<span class=go>  &#39;kvstore&#39;: {&#39;driver&#39;: &#39;memory&#39;},</span>
<span class=go>  &#39;metadata&#39;: {</span>
<span class=go>    &#39;chunks&#39;: [10, 1414, 707],</span>
<span class=go>    &#39;compressor&#39;: {</span>
<span class=go>      &#39;blocksize&#39;: 0,</span>
<span class=go>      &#39;clevel&#39;: 5,</span>
<span class=go>      &#39;cname&#39;: &#39;lz4&#39;,</span>
<span class=go>      &#39;id&#39;: &#39;blosc&#39;,</span>
<span class=go>      &#39;shuffle&#39;: -1,</span>
<span class=go>    },</span>
<span class=go>    &#39;dimension_separator&#39;: &#39;.&#39;,</span>
<span class=go>    &#39;dtype&#39;: &#39;&lt;f4&#39;,</span>
<span class=go>    &#39;fill_value&#39;: None,</span>
<span class=go>    &#39;filters&#39;: None,</span>
<span class=go>    &#39;order&#39;: &#39;C&#39;,</span>
<span class=go>    &#39;shape&#39;: [1000, 2000, 3000],</span>
<span class=go>    &#39;zarr_format&#39;: 2,</span>
<span class=go>  },</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [[1000], [2000], [3000]],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0, 0],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <p>The schema constraints allow key storage characteristics to be specified independent of the driver/format:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>store</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;n5&#39;</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>            <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>        <span class=p>},</span>
<span class=gp>... </span>    <span class=p>},</span>
<span class=gp>... </span>    <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>float32</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>],</span>
<span class=gp>... </span>    <span class=n>chunk_layout</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>ChunkLayout</span><span class=p>(</span>
<span class=gp>... </span>        <span class=n>chunk_shape</span><span class=o>=</span><span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>],</span>
<span class=gp>... </span>        <span class=n>chunk_aspect_ratio</span><span class=o>=</span><span class=p>[</span><span class=kc>None</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>        <span class=n>chunk_elements</span><span class=o>=</span><span class=mi>10000000</span><span class=p>,</span>
<span class=gp>... </span>    <span class=p>),</span>
<span class=gp>... </span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;context&#39;: {</span>
<span class=go>    &#39;cache_pool&#39;: {},</span>
<span class=go>    &#39;data_copy_concurrency&#39;: {},</span>
<span class=go>    &#39;memory_key_value_store&#39;: {},</span>
<span class=go>  },</span>
<span class=go>  &#39;driver&#39;: &#39;n5&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;float32&#39;,</span>
<span class=go>  &#39;kvstore&#39;: {&#39;driver&#39;: &#39;memory&#39;},</span>
<span class=go>  &#39;metadata&#39;: {</span>
<span class=go>    &#39;blockSize&#39;: [10, 1414, 707],</span>
<span class=go>    &#39;compression&#39;: {</span>
<span class=go>      &#39;blocksize&#39;: 0,</span>
<span class=go>      &#39;clevel&#39;: 5,</span>
<span class=go>      &#39;cname&#39;: &#39;lz4&#39;,</span>
<span class=go>      &#39;shuffle&#39;: 1,</span>
<span class=go>      &#39;type&#39;: &#39;blosc&#39;,</span>
<span class=go>    },</span>
<span class=go>    &#39;dataType&#39;: &#39;float32&#39;,</span>
<span class=go>    &#39;dimensions&#39;: [1000, 2000, 3000],</span>
<span class=go>  },</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [[1000], [2000], [3000]],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0, 0],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <p>Driver-specific constraints can be used in combination with, or instead of, schema constraints:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>store</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span>
<span class=gp>... </span>    <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>            <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>        <span class=p>},</span>
<span class=gp>... </span>        <span class=s1>&#39;metadata&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>            <span class=s1>&#39;dtype&#39;</span><span class=p>:</span> <span class=s1>&#39;&gt;f4&#39;</span>
<span class=gp>... </span>        <span class=p>},</span>
<span class=gp>... </span>    <span class=p>},</span>
<span class=gp>... </span>    <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;context&#39;: {</span>
<span class=go>    &#39;cache_pool&#39;: {},</span>
<span class=go>    &#39;data_copy_concurrency&#39;: {},</span>
<span class=go>    &#39;memory_key_value_store&#39;: {},</span>
<span class=go>  },</span>
<span class=go>  &#39;driver&#39;: &#39;zarr&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;float32&#39;,</span>
<span class=go>  &#39;kvstore&#39;: {&#39;driver&#39;: &#39;memory&#39;},</span>
<span class=go>  &#39;metadata&#39;: {</span>
<span class=go>    &#39;chunks&#39;: [102, 102, 102],</span>
<span class=go>    &#39;compressor&#39;: {</span>
<span class=go>      &#39;blocksize&#39;: 0,</span>
<span class=go>      &#39;clevel&#39;: 5,</span>
<span class=go>      &#39;cname&#39;: &#39;lz4&#39;,</span>
<span class=go>      &#39;id&#39;: &#39;blosc&#39;,</span>
<span class=go>      &#39;shuffle&#39;: -1,</span>
<span class=go>    },</span>
<span class=go>    &#39;dimension_separator&#39;: &#39;.&#39;,</span>
<span class=go>    &#39;dtype&#39;: &#39;&gt;f4&#39;,</span>
<span class=go>    &#39;fill_value&#39;: None,</span>
<span class=go>    &#39;filters&#39;: None,</span>
<span class=go>    &#39;order&#39;: &#39;C&#39;,</span>
<span class=go>    &#39;shape&#39;: [1000, 2000, 3000],</span>
<span class=go>    &#39;zarr_format&#39;: 2,</span>
<span class=go>  },</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [[1000], [2000], [3000]],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0, 0],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <h3 id=using-assume-metadata-for-improved-concurrent-open-efficiency><span id=python-open-assume-metadata></span>Using <a class="reference internal" href=#p-assume_metadata title="tensorstore.open.assume_metadata (Python parameter) — Skip reading the metadata if possible."><code class="xref py py-param docutils literal notranslate"><span class=pre>assume_metadata</span></code></a> for improved concurrent open efficiency<a class=headerlink href=#using-assume-metadata-for-improved-concurrent-open-efficiency title="Permalink to this headline">¶</a></h3> <p>Normally, when opening or creating a chunked format like <a class="reference internal" href=../../driver/zarr/index.html#zarr-driver><span class="std std-ref">zarr</span></a>, TensorStore first attempts to read the existing metadata (and confirms that it matches any specified constraints), or (if creating is allowed) creates a new metadata file based on any specified constraints.</p> <p>When the same TensorStore stored on a distributed filesystem or cloud storage is opened concurrently from many machines, the simultaneous requests to read and write the metadata file by every machine can create contention and result in high latency on some distributed filesystems.</p> <p>The <a class="reference internal" href=#p-assume_metadata title="tensorstore.open.assume_metadata (Python parameter) — Skip reading the metadata if possible."><code class="xref py py-param docutils literal notranslate"><span class=pre>assume_metadata</span></code></a> open mode allows redundant reading and writing of the metadata file to be avoided, but requires careful use to avoid data corruption.</p> <div class="example admonition"> <p class=admonition-title>Example of skipping reading the metadata when opening an existing array</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>context</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>Context</span><span class=p>()</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># First create the array normally</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>({</span>
<span class=gp>... </span>    <span class=s2>&quot;driver&quot;</span><span class=p>:</span> <span class=s2>&quot;zarr&quot;</span><span class=p>,</span>
<span class=gp>... </span>    <span class=s2>&quot;kvstore&quot;</span><span class=p>:</span> <span class=s2>&quot;memory://&quot;</span>
<span class=gp>... </span><span class=p>},</span>
<span class=gp>... </span>                      <span class=n>context</span><span class=o>=</span><span class=n>context</span><span class=p>,</span>
<span class=gp>... </span>                      <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>float32</span><span class=p>,</span>
<span class=gp>... </span>                      <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>5</span><span class=p>],</span>
<span class=gp>... </span>                      <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># Note that the .zarray metadata has been written.</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>await</span> <span class=n>store</span><span class=o>.</span><span class=n>kvstore</span><span class=o>.</span><span class=n>list</span><span class=p>()</span>
<span class=go>[b&#39;.zarray&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>await</span> <span class=n>store</span><span class=o>.</span><span class=n>write</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>spec</span> <span class=o>=</span> <span class=n>store</span><span class=o>.</span><span class=n>spec</span><span class=p>()</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>spec</span>
<span class=go>Spec({</span>
<span class=go>  &#39;driver&#39;: &#39;zarr&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;float32&#39;,</span>
<span class=go>  &#39;kvstore&#39;: {&#39;driver&#39;: &#39;memory&#39;},</span>
<span class=go>  &#39;metadata&#39;: {</span>
<span class=go>    &#39;chunks&#39;: [5],</span>
<span class=go>    &#39;compressor&#39;: {</span>
<span class=go>      &#39;blocksize&#39;: 0,</span>
<span class=go>      &#39;clevel&#39;: 5,</span>
<span class=go>      &#39;cname&#39;: &#39;lz4&#39;,</span>
<span class=go>      &#39;id&#39;: &#39;blosc&#39;,</span>
<span class=go>      &#39;shuffle&#39;: -1,</span>
<span class=go>    },</span>
<span class=go>    &#39;dimension_separator&#39;: &#39;.&#39;,</span>
<span class=go>    &#39;dtype&#39;: &#39;&lt;f4&#39;,</span>
<span class=go>    &#39;fill_value&#39;: None,</span>
<span class=go>    &#39;filters&#39;: None,</span>
<span class=go>    &#39;order&#39;: &#39;C&#39;,</span>
<span class=go>    &#39;shape&#39;: [5],</span>
<span class=go>    &#39;zarr_format&#39;: 2,</span>
<span class=go>  },</span>
<span class=go>  &#39;transform&#39;: {&#39;input_exclusive_max&#39;: [[5]], &#39;input_inclusive_min&#39;: [0]},</span>
<span class=go>})</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># Re-open later without re-reading metadata</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store2</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>spec</span><span class=p>,</span>
<span class=gp>... </span>                       <span class=n>context</span><span class=o>=</span><span class=n>context</span><span class=p>,</span>
<span class=gp>... </span>                       <span class=nb>open</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>                       <span class=n>assume_metadata</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># Read data using the unverified metadata from `spec`</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>await</span> <span class=n>store2</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</code></pre></div> </div> </div> <div class="example admonition"> <p class=admonition-title>Example of skipping writing the metadata when creating a new array</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>context</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>Context</span><span class=p>()</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>spec</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>Spec</span><span class=p>(</span><span class=n>json</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;driver&quot;</span><span class=p>:</span> <span class=s2>&quot;zarr&quot;</span><span class=p>,</span> <span class=s2>&quot;kvstore&quot;</span><span class=p>:</span> <span class=s2>&quot;memory://&quot;</span><span class=p>})</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>spec</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>float32</span><span class=p>,</span> <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>5</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># Open the array without writing the metadata.  If using a distributed</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># filesystem, this can safely be executed on multiple machines concurrently,</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># provided that the `spec` is identical and the metadata is either fully</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># constrained, or exactly the same TensorStore version is used to ensure the</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># same defaults are applied.</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>store</span> <span class=o>=</span> <span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>spec</span><span class=p>,</span>
<span class=gp>... </span>                      <span class=n>context</span><span class=o>=</span><span class=n>context</span><span class=p>,</span>
<span class=gp>... </span>                      <span class=nb>open</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>                      <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>                      <span class=n>assume_metadata</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>await</span> <span class=n>store</span><span class=o>.</span><span class=n>write</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># Note that the data chunk has been written but not the .zarray metadata</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>await</span> <span class=n>store</span><span class=o>.</span><span class=n>kvstore</span><span class=o>.</span><span class=n>list</span><span class=p>()</span>
<span class=go>[b&#39;0&#39;]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># From a single machine, actually write the metadata to ensure the array</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># can be re-opened knowing the metadata.  This can be done in parallel with</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># any other writing.</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>await</span> <span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>spec</span><span class=p>,</span> <span class=n>context</span><span class=o>=</span><span class=n>context</span><span class=p>,</span> <span class=nb>open</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=c1># Metadata has now been written.</span>
<span class=gp>&gt;&gt;&gt; </span><span class=k>await</span> <span class=n>store</span><span class=o>.</span><span class=n>kvstore</span><span class=o>.</span><span class=n>list</span><span class=p>()</span>
<span class=go>[b&#39;.zarray&#39;, b&#39;0&#39;]</span>
</code></pre></div> </div> </div> </dd></dl> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-up width=24 height=24 viewbox="0 0 24 24"><path d=M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z /></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=tensorstore.Transaction.abort.html class="md-footer__link md-footer__link--prev" aria-label="Previous: tensorstore.Transaction.abort" rel=prev> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> tensorstore.Transaction.abort </div> </div> </a> <a href=tensorstore.inf.html class="md-footer__link md-footer__link--next" aria-label="Next: tensorstore.inf" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> tensorstore.inf </div> </div> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-right width=24 height=24 viewbox="0 0 24 24"><path d=M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z /></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.expand", "navigation.sections", "navigation.top"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script> <script src=../../_static/javascripts/bundle.js></script> <script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script> </body> </html>